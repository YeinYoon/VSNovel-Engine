(function(e){function t(t){for(var c,i,a=t[0],r=t[1],l=t[2],d=0,p=[];d<a.length;d++)i=a[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(c in r)Object.prototype.hasOwnProperty.call(r,c)&&(e[c]=r[c]);u&&u(t);while(p.length)p.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],c=!0,a=1;a<n.length;a++){var r=n[a];0!==o[r]&&(c=!1)}c&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var c={},o={app:0},s=[];function i(t){if(c[t])return c[t].exports;var n=c[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=c,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)i.d(n,c,function(t){return e[t]}.bind(null,c));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],r=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var u=r;s.push([1,"chunk-vendors"]),n()})({0:function(e,t){},"04a6":function(e,t,n){"use strict";n("de9b")},"0562":function(e,t,n){e.exports=n.p+"img/speaker-disable_white.abdda617.png"},"0613":function(e,t,n){},"09cf":function(e,t,n){},"0ae8":function(e,t,n){e.exports=n.p+"img/editing.d2178a64.png"},"0e5b":function(e,t,n){},1:function(e,t,n){e.exports=n("56d7")},"183a":function(e,t,n){var c=n("c973").default;n("d3b7"),n("ac1f"),n("1276"),n("a434"),n("159b"),n("c740"),n("b0c0"),n("96cf");var o=n("4a9d"),s=new o.S3({region:"ap-northeast-2",accessKeyId:"AKIARKU2Y4IXVCR266PO",secretAccessKey:"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"});t.getVN=function(){var e=c(regeneratorRuntime.mark((function e(t){var n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={Bucket:"vsnovel",Key:t},o=c(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.getObject(n).promise().then((function(e){return e.Body}));case 3:t=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return","err");case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e,null,[[0,6]])})))(),e.abrupt("return",o);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.getUrl=function(){var e=c(regeneratorRuntime.mark((function e(t){var n,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={Bucket:"vsnovel",Key:t,Expires:604800},c=new Promise((function(e,t){s.getSignedUrl("getObject",n,(function(n,c){if(n)return t(n);e(c)}))})),e.abrupt("return",c);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.getDirList=function(){var e=c(regeneratorRuntime.mark((function e(t){var n,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={Bucket:"vsnovel",Prefix:t},o=[],i=new Promise((function(e,i){s.listObjectsV2(n,function(){var n=c(regeneratorRuntime.mark((function n(c,s){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!c){n.next=2;break}return n.abrupt("return",i(c));case 2:a=t.split("/"),a.splice(-1,1),r=s.Contents,r.forEach((function(e){var t=e.Key.split("/");t.splice(-1,1),o.push({name:t[a.length],key:e.Key})})),o=o.reduce((function(e,t){return-1===e.findIndex((function(e){var n=e.name;return n===t.name}))&&e.push(t),e}),[]),o.splice(0,1),e(o);case 9:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})),e.abrupt("return",i);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.getUrlList=function(){var e=c(regeneratorRuntime.mark((function e(t){var n,o,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={Bucket:"vsnovel",Prefix:t},o=[],i=[],a=new Promise((function(e,a){s.listObjectsV2(n,function(){var n=c(regeneratorRuntime.mark((function n(c,r){var l,u,d,p,b;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!c){n.next=2;break}return n.abrupt("return",a(c));case 2:l=t.split("/"),l.splice(-1,1),u=r.Contents,u.forEach((function(e){o.push(e.Key);var t=e.Key.split("/");""==t[t.length-1]&&t.splice(-1,1);var n=t[t.length-1],c=n.split(".");l.length+1==t.length&&(1==c.length?i.push({key:e.Key,name:t[t.length-1],ex:"dir",url:null}):i.push({key:e.Key,name:t[t.length-1],ex:c[c.length-1],url:null}))})),o[0]==t&&o.splice(0,1),d=0;case 8:if(!(d<i.length)){n.next=17;break}return p={Bucket:"vsnovel",Key:o[d],Expires:604800},n.next=12,s.getSignedUrl("getObject",p);case 12:b=n.sent,i[d].url=b;case 14:d++,n.next=8;break;case 17:e(i);case 18:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.uploadFile=function(e,t){var n={Bucket:"vsnovel",Key:e+t.name,Body:t};s.upload(n).on("httpUploadProgress",(function(e){return parseInt(100*e.loaded/e.total)+"%"})).send((function(e,t){return e?(console.log("파일 업로드 실패"),console.error(e),"err"):(console.log("파일 업로드 성공",t),"ok")}))},t.deleteFile=function(){var e=c(regeneratorRuntime.mark((function e(t){var n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t),n={Bucket:"vsnovel",Key:t},o=new Promise((function(e,t){s.deleteObject(n,function(){var n=c(regeneratorRuntime.mark((function n(c){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:c&&t(c),e("ok");case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())})),console.log(o),e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.createFolder=function(){var e=c(regeneratorRuntime.mark((function e(t){var n,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={Bucket:"vsnovel",Key:t},c=new Promise((function(e,t){s.putObject(n).send((function(n,c){n&&t(n),console.log(c),e("ok")}))})),e.abrupt("return",c);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.deleteFolder=function(){var e=c(regeneratorRuntime.mark((function e(t){var n,o,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={Bucket:"vsnovel",Prefix:t},e.next=3,s.listObjectsV2(n).promise();case 3:return o=e.sent,i={Bucket:n.Bucket,Delete:{Objects:[]}},a=new Promise((function(e,t){o.Contents.forEach((function(e){var t=e.Key;i.Delete.Objects.push({Key:t})})),s.deleteObjects(i,function(){var n=c(regeneratorRuntime.mark((function n(c){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:c&&t(c),e("ok");case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())})),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.editName=function(){var e=c(regeneratorRuntime.mark((function e(t,n,o){var i,a,r,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=encodeURIComponent(t),a={Bucket:"vsnovel",CopySource:"vsnovel/"+i,Key:o+n},console.log(a),r={Bucket:"vsnovel",Key:t},console.log(r),l=new Promise((function(e,t){s.copyObject(a,(function(n){n&&t(n),s.deleteObject(r,function(){var n=c(regeneratorRuntime.mark((function n(c){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:c&&t(c),e("ok");case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}))})),e.abrupt("return",l);case 7:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),t.getEpList=function(){var e=c(regeneratorRuntime.mark((function e(t){var n,o,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={Bucket:"vsnovel",Prefix:t},o=[],i=[],a=new Promise((function(e,a){s.listObjectsV2(n,function(){var n=c(regeneratorRuntime.mark((function n(c,r){var l,u,d,p,b;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!c){n.next=2;break}return n.abrupt("return",a(c));case 2:l=t.split("/"),l.splice(-1,1),u=r.Contents,u.forEach((function(e){o.push(e.Key);var t=e.Key.split("/");""==t[t.length-1]&&t.splice(-1,1);var n=t[t.length-1],c=n.split(".");l.length+1==t.length&&1!=c.length&&i.push({key:e.Key,name:t[t.length-1],ex:c[c.length-1],url:null})})),o[0]==t&&o.splice(0,1),d=0;case 8:if(!(d<i.length)){n.next=17;break}return p={Bucket:"vsnovel",Key:o[d],Expires:604800},n.next=12,s.getSignedUrl("getObject",p);case 12:b=n.sent,i[d].url=b;case 14:d++,n.next=8;break;case 17:e(i);case 18:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},"1e38":function(e,t,n){},2100:function(e,t,n){e.exports=n.p+"img/handshake.01c3948e.png"},2243:function(e,t,n){"use strict";n("7dd6")},2290:function(e,t,n){},2320:function(e,t,n){},"233b":function(e,t,n){e.exports=n.p+"img/sample.8e0baa03.png"},"2af3":function(e,t,n){e.exports=n.p+"img/trash_white.0a8ee35a.png"},3417:function(e,t,n){e.exports=n.p+"img/downcloud.95932277.png"},"36d1":function(e,t,n){"use strict";n("09cf")},"38ed":function(e,t,n){},"3d92":function(e,t,n){},"4ace":function(e,t,n){e.exports=n.p+"img/e_no_image.65af948e.png"},"4d6d":function(e,t,n){"use strict";n("ed0a")},"4e0c":function(e,t,n){e.exports=n.p+"img/plus.8f79e608.png"},"4e9a":function(e,t,n){e.exports=n.p+"img/background.1b103e51.png"},"54bb":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("7a23");function o(e,t,n,o,s,i){var a=Object(c["y"])("Spinner"),r=Object(c["y"])("GlobalModal"),l=Object(c["y"])("TutorialGuide"),u=Object(c["y"])("SideBar"),d=Object(c["y"])("MainBar"),p=Object(c["y"])("router-view");return Object(c["t"])(),Object(c["f"])(c["a"],null,[Object(c["j"])(a,{loading:e.$store.state.LoadingStatus},null,8,["loading"]),Object(c["j"])(r,{gModalState:e.$store.state.gModalState},null,8,["gModalState"]),Object(c["j"])(l,{sideMenuState:e.$store.state.sideMenuState,tutorialState:e.$store.state.tutorialState,tutorialType:e.$store.state.tutorialType},null,8,["sideMenuState","tutorialState","tutorialType"]),Object(c["j"])(u,{class:Object(c["p"])({SideBar:!0}),sideBarStatus:s.sideBarStatus,onSend:i.send,onSendEp:i.sendEp,epNum:s.epNum},null,8,["sideBarStatus","onSend","onSendEp","epNum"]),1==s.mainBar?(Object(c["t"])(),Object(c["d"])(d,{key:0,class:Object(c["p"])({MainBar:!0})})):Object(c["e"])("",!0),Object(c["j"])(p,{resource:s.resource,ep:s.ep},null,8,["resource","ep"])],64)}n("d3b7");var s=n("bc3a"),i=n.n(s),a=n("5502"),r=Object(a["a"])({state:function(){return{userId:null,userNickname:null,LoadingStatus:!1,gModalState:!1,gModalMsg:"",gModalSize:"",sideBar:!1,sideBarState:"",sideBarButtonState:"sideBarButtonOff",sideBarFixed:"RouterViewLeft",sideBarMove:"RouterMoveLeft",sideAnimationState:!0,sideButtonVisible:!1,sideMenuState:"N",tutorialState:!1,tutorialType:null}},mutations:{userLogin:function(e,t){e.userId=t.userId,e.userNickname=t.nickName},startSpinner:function(e){e.LoadingStatus=!0},endSpinner:function(e){e.LoadingStatus=!1},cngSideMenu:function(e,t){e.sideMenuState=t},gModalOn:function(e,t){e.gModalSize=t.size,e.gModalMsg=t.msg,e.gModalState=!0},gModalOff:function(e){e.gModalState=!1},sideMenuOn:function(e){e.sideAnimationState=!0,e.sideBar=!0,e.sideBarState="sideBarOn",e.sideBarMove="RouterMoveRight",e.sideBarFixed="RouterViewRight"},sideMenuOff:function(e){e.sideAnimationState=!0,e.sideBar=!1,e.sideBarState="sideBarOff",e.sideBarMove="RouterMoveLeft",e.sideBarFixed="RouterViewLeft"},sideMenuOnMain:function(e){e.sideAnimationState=!0,e.sideBar=!0,e.sideBarState="sideBarOnMain",e.sideBarMove="mainRouterMoveRight",e.sideBarFixed="mainRouterViewRight"},sideMenuOffMain:function(e){e.sideAnimationState=!0,e.sideBar=!1,e.sideBarState="sideBarOffMain",e.sideBarMove="mainRouterMoveLeft",e.sideBarFixed="mainRouterViewLeft"},sideAnimationFixed:function(e){e.sideAnimationState=!0,setTimeout((function(){e.sideAnimationState=!e.sideAnimationState}),600)},sideButtonVisible:function(e){e.sideButtonVisible=!e.sideButtonVisible},tutorialOn:function(e,t){e.tutorialState=!0,e.tutorialType=t},tutorialOff:function(e){e.tutorialState=!1}}}),l=r,u=void 0,d=i.a.create({});d.interceptors.request.use((function(e){return l.commit("startSpinner"),e}),(function(e){return u.$store.commit("gModalOn",{msg:"ERR : 데이터 요청 실패.",size:"small"}),Promise.reject(e)})),d.interceptors.response.use((function(e){return l.commit("endSpinner"),e}),(function(e){return u.$store.commit("gModalOn",{msg:"ERR : 데이터 응답 실패.",size:"small"}),Promise.reject(e)}));var p=d,b={key:0,class:"lds-facebook"},g=Object(c["g"])("div",null,null,-1),j=Object(c["g"])("div",null,null,-1),f=Object(c["g"])("div",null,null,-1),O=[g,j,f];function m(e,t,n,o,s,i){return n.loading?(Object(c["t"])(),Object(c["f"])("div",b,O)):Object(c["e"])("",!0)}var h={props:{loading:{type:Boolean,required:!0}}},v=(n("ffaf"),n("6b0d")),S=n.n(v);const k=S()(h,[["render",m]]);var _=k,C=n("ade3"),x={key:0},y=Object(c["g"])("div",{class:"modal_opacity"},null,-1),M={class:"Gmodal_inner"},N={class:"Gmodal_close_button"};function V(e,t,n,o,s,i){return n.gModalState?(Object(c["t"])(),Object(c["f"])("div",x,[y,Object(c["g"])("div",{class:Object(c["p"])(Object(C["a"])({},"Gmodal_frame_".concat(this.$store.state.gModalSize),!0))},[Object(c["g"])("div",M,[Object(c["g"])("span",null,Object(c["A"])(this.$store.state.gModalMsg),1)]),Object(c["g"])("div",N,[Object(c["g"])("span",{class:"Gmodal_close_ok",onClick:t[0]||(t[0]=function(e){return i.modalClose()})},"확인")])],2)])):Object(c["e"])("",!0)}var P={name:"GlobalModal",methods:{modalClose:function(){this.$store.commit("gModalOff")}},props:{gModalState:{type:Boolean,required:!0}}};n("9d09");const w=S()(P,[["render",V]]);var E=w,R=n("db32"),B=n.n(R),T=n("7ca7"),L=n.n(T),I=n("2100"),$=n.n(I),A=n("b062"),D=n.n(A),F=n("5d75"),U=n.n(F),K={key:0},J={class:Object(c["p"])({mainmenu:!0})},z={class:Object(c["p"])({menus:!0})},H=Object(c["g"])("img",{class:"menubox_icon_episode",src:B.a},null,-1),G=[H],Y=Object(c["g"])("img",{class:"menubox_icon_resource",src:L.a},null,-1),W=[Y],X=Object(c["g"])("img",{class:"menubox_icon_cooperation",src:$.a},null,-1),q=[X],Q=Object(c["g"])("img",{class:"menubox_icon_setting",src:D.a},null,-1),Z=[Q],ee=Object(c["g"])("img",{class:"menubox_icon_mainscreen",src:U.a},null,-1),te=[ee];function ne(e,t,n,o,s,i){var a=this;return n.main?Object(c["e"])("",!0):(Object(c["t"])(),Object(c["f"])("div",K,[Object(c["g"])("div",J,[Object(c["g"])("div",z,[Object(c["g"])("div",{class:Object(c["p"])([s.Menu1]),onClick:t[0]||(t[0]=function(e){return i.openMenu("E")})},G,2),Object(c["g"])("div",{class:Object(c["p"])([s.Menu2]),onClick:t[1]||(t[1]=function(e){return i.openMenu("R")})},W,2),Object(c["g"])("div",{class:Object(c["p"])([s.Menu3]),onClick:t[2]||(t[2]=function(e){return i.openMenu("C")})},q,2),Object(c["g"])("div",{class:Object(c["p"])([s.Menu4]),onClick:t[3]||(t[3]=function(e){return i.openMenu("S")})},Z,2),Object(c["g"])("div",{class:Object(c["p"])([s.Menu5]),onClick:t[4]||(t[4]=function(e){return a.$router.push("/")})},te,2)])])]))}var ce={name:"MainBar",props:{main:Boolean},data:function(){return{Menu1:"menubox",Menu2:"menubox",Menu3:"menubox",Menu4:"menubox",Menu5:"menubox"}},methods:{openMenu:function(e){switch(this.$store.commit("sideMenuOn"),e){case"R":this.$store.commit("cngSideMenu","R"),this.Menu2="menubox_active",this.Menu1="menubox",this.Menu3="menubox",this.Menu4="menubox";break;case"C":this.$store.commit("cngSideMenu","C"),this.Menu3="menubox_active",this.Menu1="menubox",this.Menu2="menubox",this.Menu4="menubox";break;case"S":this.$store.commit("cngSideMenu","S"),this.Menu4="menubox_active",this.Menu1="menubox",this.Menu3="menubox",this.Menu2="menubox";break;case"E":this.$store.commit("cngSideMenu","E"),this.Menu1="menubox_active",this.Menu2="menubox",this.Menu3="menubox",this.Menu4="menubox";break}}}};n("a7c2");const oe=S()(ce,[["render",ne]]);var se=oe,ie={key:0},ae={key:1},re={key:2},le={key:3},ue={key:4},de=Object(c["g"])("div",{class:"sideBarBar"},null,-1),pe=[de];function be(e,t,n,o,s,i){var a=Object(c["y"])("SideMainScreen"),r=Object(c["y"])("VsideEpisode"),l=Object(c["y"])("VsideCoop"),u=Object(c["y"])("VsideResource"),d=Object(c["y"])("VsideSetting");return Object(c["t"])(),Object(c["f"])("div",{class:Object(c["p"])(Object(C["a"])({},"".concat(this.$store.state.sideBarState),!0))},["M"==this.$store.state.sideMenuState?(Object(c["t"])(),Object(c["f"])("div",ie,[Object(c["j"])(a,{userId:e.$store.state.userId},null,8,["userId"])])):"E"==this.$store.state.sideMenuState?(Object(c["t"])(),Object(c["f"])("div",ae,[Object(c["j"])(r,{pjCode:s.pjCode,epNum:n.epNum,onSendEp:i.sendEp},null,8,["pjCode","epNum","onSendEp"])])):"C"==this.$store.state.sideMenuState?(Object(c["t"])(),Object(c["f"])("div",re,[Object(c["j"])(l,{pjCode:s.pjCode},null,8,["pjCode"])])):"R"==this.$store.state.sideMenuState?(Object(c["t"])(),Object(c["f"])("div",le,[Object(c["j"])(u,{pjCode:s.pjCode,onSend:i.send},null,8,["pjCode","onSend"])])):"S"==this.$store.state.sideMenuState?(Object(c["t"])(),Object(c["f"])("div",ue,[Object(c["j"])(d,{pjCode:s.pjCode},null,8,["pjCode"])])):Object(c["e"])("",!0),this.$store.state.sideButtonVisible?Object(c["e"])("",!0):(Object(c["t"])(),Object(c["f"])("div",{key:5,class:"sideBarButton",onClick:t[0]||(t[0]=function(e){return i.sideBarClick()})},pe))],2)}n("a9e3");var ge={class:"VSBackgroundCoop"},je=Object(c["g"])("div",{class:"VSCoopTool"},[Object(c["g"])("div",{class:"VSCoopTitle"},[Object(c["g"])("span",null,"협업 관리")])],-1),fe={class:"VSCoopMemberList"},Oe={class:"VSCoopMenu"},me=Object(c["g"])("p",null,"유저 초대",-1),he=[me],ve={key:0,class:"VSCoopMenuInner"},Se={class:"VSCoopSearchId"},ke=Object(c["g"])("option",{value:"I",selected:""},"아이디",-1),_e=Object(c["g"])("option",{value:"N"},"닉네임",-1),Ce=[ke,_e],xe={class:"VSCoopResultFrame"},ye={class:"VSCoopSearchResult"},Me=Object(c["g"])("thead",null,[Object(c["g"])("th",null,"ID"),Object(c["g"])("th",null,"닉네임"),Object(c["g"])("th",null,"초대하기")],-1),Ne=["id"],Ve=["onClick","disabled"],Pe={class:"VSCoopMenu"},we=Object(c["g"])("p",null,"멤버 관리",-1),Ee=[we],Re={key:0,class:"VSCoopMenuInner"},Be={class:"StakeFrame"},Te=Object(c["g"])("p",null,"변경값 저장",-1),Le=[Te],Ie=Object(c["g"])("span",null,"멤버 목록",-1),$e={class:"StakeMemberId"},Ae=Object(c["g"])("span",null,"아이디",-1),De={class:"StakeMemberNick"},Fe=Object(c["g"])("span",null,"닉네임",-1),Ue={class:"StakeMemberStake"},Ke={class:"StakeMemberStake_Num"},Je={key:0},ze=["onUpdate:modelValue"],He={class:"StakeMemberStake_Per"},Ge=["onClick"],Ye={class:"VSCoopMenu"},We=Object(c["g"])("p",null,"일정 관리",-1),Xe=[We],qe={key:0,class:"VSCoopMenuInner"},Qe={class:"ScheduleFrame"},Ze=Object(c["g"])("span",null,"일정 내용",-1),et={class:"ScheduleContent"},tt={class:"ScheduleInfo"},nt=Object(c["g"])("span",null,"기간 선택",-1),ct={class:"ScheduleDate"},ot=Object(c["g"])("div",{class:"ScheduleDate_title"},"시작일",-1),st={class:"ScheduleDate_Before"},it=Object(c["g"])("div",{class:"ScheduleDate_title"},"종료일",-1),at={class:"ScheduleDate_After"},rt=Object(c["g"])("span",null,"수신자 선택",-1),lt={class:"ScheduleSelecter"},ut=["value"],dt={class:"ScheduleButton"},pt={class:"VSCoopMenu"},bt=Object(c["g"])("p",null,"일정",-1),gt=[bt],jt={key:0,class:"VSCoopMenuInner"},ft={key:0},Ot={class:"Schedule_List_item_date"},mt={class:"Schedule_List_item_date_box"},ht=Object(c["i"])(" ~ "),vt={class:"Schedule_List_item_date_box"},St={class:"Schedule_List_item_writer"},kt={class:"Schedule_List_item_content"},_t=["onUpdate:modelValue"];function Ct(e,t,n,o,s,i){return Object(c["t"])(),Object(c["f"])("div",ge,[je,Object(c["g"])("div",fe,[Object(c["g"])("div",Oe,[Object(c["g"])("div",{class:"VSCoopMenuTitle",onClick:t[0]||(t[0]=function(e){return s.menu0=!s.menu0})},he),1==s.menu0?(Object(c["t"])(),Object(c["f"])("div",ve,[Object(c["g"])("div",Se,[Object(c["H"])(Object(c["g"])("select",{class:"VSCoopSelectSearchType","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.searchType=e})},Ce,512),[[c["D"],s.searchType]]),Object(c["H"])(Object(c["g"])("input",{class:"VSCoopInsertID",type:"text","onUpdate:modelValue":t[2]||(t[2]=function(e){return s.searchKeyword=e})},null,512),[[c["E"],s.searchKeyword]]),Object(c["g"])("button",{class:"VSCoopSearchButton",onClick:t[3]||(t[3]=function(e){return i.userSearch()})},"유저 검색")]),Object(c["g"])("div",xe,[Object(c["g"])("table",ye,[Me,Object(c["g"])("tbody",null,[(Object(c["t"])(!0),Object(c["f"])(c["a"],null,Object(c["x"])(s.userList,(function(e){return Object(c["t"])(),Object(c["f"])("tr",{key:e.USER_ID},[Object(c["g"])("td",{id:e.USER_ID},Object(c["A"])(e.USER_ID),9,Ne),Object(c["g"])("td",null,Object(c["A"])(e.USER_NICKNAME),1),Object(c["g"])("td",null,[Object(c["g"])("button",{onClick:function(t){return i.inviteUser(e.USER_ID)},disabled:s.isInvite==e.USER_ID},"초대",8,Ve)])])})),128))])])])])):Object(c["e"])("",!0)]),Object(c["g"])("div",Pe,[Object(c["g"])("div",{class:"VSCoopMenuTitle",onClick:t[4]||(t[4]=function(e){return s.menu1=!s.menu1})},Ee),1==s.menu1?(Object(c["t"])(),Object(c["f"])("div",Re,[Object(c["g"])("div",Be,[Object(c["g"])("div",{class:"StakeSaveTotalBtn",onClick:t[5]||(t[5]=function(e){return i.uploadStake(s.memberList)})},Le),Ie,(Object(c["t"])(!0),Object(c["f"])(c["a"],null,Object(c["x"])(s.memberList,(function(e,t){return Object(c["t"])(),Object(c["f"])("div",{class:"StakeList",key:t},[Object(c["g"])("div",$e,[Ae,Object(c["i"])(" "+Object(c["A"])(e.USER_ID),1)]),Object(c["g"])("div",De,[Fe,Object(c["i"])(" "+Object(c["A"])(e.USER_NICKNAME),1)]),Object(c["g"])("div",Ue,[Object(c["g"])("div",Ke,[e.edit?Object(c["H"])((Object(c["t"])(),Object(c["f"])("input",{key:1,type:"number","onUpdate:modelValue":function(t){return e.COOP_STAKE=t}},null,8,ze)),[[c["E"],e.COOP_STAKE]]):(Object(c["t"])(),Object(c["f"])("span",Je,Object(c["A"])(e.COOP_STAKE),1))]),Object(c["g"])("span",He,"("+Object(c["A"])(Math.floor(e.COOP_STAKE/s.memberList.reduce((function(e,t){return e+t.COOP_STAKE}),0)*1e4)/100)+"%)",1),Object(c["g"])("button",{class:"StakeMemberSave",onClick:function(t){return e.edit=!e.edit}},"변경",8,Ge)])])})),128))])])):Object(c["e"])("",!0)]),Object(c["g"])("div",Ye,[Object(c["g"])("div",{class:"VSCoopMenuTitle",onClick:t[6]||(t[6]=function(e){return s.menu2=!s.menu2})},Xe),1==s.menu2?(Object(c["t"])(),Object(c["f"])("div",qe,[Object(c["g"])("div",Qe,[Ze,Object(c["g"])("div",et,[Object(c["H"])(Object(c["g"])("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=function(e){return s.scheduleContent=e})},null,512),[[c["E"],s.scheduleContent]])]),Object(c["g"])("div",tt,[nt,Object(c["g"])("div",ct,[ot,Object(c["g"])("div",st,[Object(c["H"])(Object(c["g"])("input",{type:"date","onUpdate:modelValue":t[8]||(t[8]=function(e){return s.scheduleSt=e})},null,512),[[c["E"],s.scheduleSt]])]),it,Object(c["g"])("div",at,[Object(c["H"])(Object(c["g"])("input",{type:"date","onUpdate:modelValue":t[9]||(t[9]=function(e){return s.scheduleEd=e})},null,512),[[c["E"],s.scheduleEd]])])]),rt,Object(c["g"])("div",lt,[Object(c["H"])(Object(c["g"])("select",{"onUpdate:modelValue":t[10]||(t[10]=function(e){return s.scheduleList=e}),multiple:""},[(Object(c["t"])(!0),Object(c["f"])(c["a"],null,Object(c["x"])(s.memberList,(function(e,t){return Object(c["t"])(),Object(c["f"])("option",{key:t,value:e.USER_ID},Object(c["A"])(e.USER_NICKNAME),9,ut)})),128))],512),[[c["D"],s.scheduleList]])])]),Object(c["g"])("div",dt,[Object(c["g"])("button",{onClick:t[11]||(t[11]=function(e){return i.makeSchedule(s.scheduleList,s.scheduleSt,s.scheduleEd,s.scheduleContent)})},"저장")])])])):Object(c["e"])("",!0)]),Object(c["g"])("div",pt,[Object(c["g"])("div",{class:"VSCoopMenuTitle",onClick:t[12]||(t[12]=function(e){return s.menu3=!s.menu3})},gt),1==s.menu3?(Object(c["t"])(),Object(c["f"])("div",jt,[(Object(c["t"])(!0),Object(c["f"])(c["a"],null,Object(c["x"])(e.schedule,(function(e,t){return Object(c["t"])(),Object(c["f"])("div",{class:"Schedule_List_item",key:t},["S"==e.SCHE_TYPE?(Object(c["t"])(),Object(c["f"])("div",ft,[Object(c["g"])("div",Ot,[Object(c["g"])("div",mt,Object(c["A"])(e.SCHE_STDATE),1),ht,Object(c["g"])("div",vt,Object(c["A"])(e.SCHE_EDDATE),1)]),Object(c["g"])("div",St,"작성자 : "+Object(c["A"])(e.USER_ID),1),Object(c["g"])("div",kt,"내용 : "+Object(c["A"])(e.SCHE_CONTENT),1),Object(c["H"])(Object(c["g"])("input",{class:"Schedule_List_item_check",type:"checkbox","onUpdate:modelValue":function(t){return e.select=t}},null,8,_t),[[c["C"],e.select]])])):Object(c["e"])("",!0)])})),128)),Object(c["g"])("button",{class:"Schedule_List_DelBtn",onClick:t[13]||(t[13]=function(){return i.deleteSchedule&&i.deleteSchedule.apply(i,arguments)})},"삭제")])):Object(c["e"])("",!0)])])])}var xt=n("1da1"),yt=(n("96cf"),{name:"V_side_coop",created:function(){this.pjCode=this.$route.params.pjCode,this.coopList(),this.scheList()},data:function(){return{menu0:!1,menu1:!1,menu2:!1,menu3:!1,pjCode:"",searchKeyword:"",searchType:"I",userList:[],isInvite:"",memberList:[],pjSchedule:[],scheduleList:[],scheduleSt:null,scheduleEd:null,scheduleContent:""}},methods:{uploadStake:function(e){var t=this;console.log(e),p.post("/engine/team/uploadMemberList",{list:e}).then((function(e){"err"==e?console.log(e):t.$store.commit("gModalOn",{msg:"멤버 관리를 서버에 저장했습니다.",size:"normal"})})).finally(Object(xt["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.coopList();case 2:case"end":return e.stop()}}),e)}))))},userSearch:function(){var e=this,t={searchKeyword:this.searchKeyword,searchType:this.searchType};p.post("/engine/user/search",t).then((function(t){"empty"!=t.data?e.userList=t.data:e.$store.commit("gModalOn",{msg:"조건에 맞는 유저를 찾지 못했습니다.",size:"normal"})})).catch((function(e){console.error(e)}))},inviteUser:function(e){var t=this,n={userId:e,pjCode:this.pjCode};p.post("/engine/team/inviteUser",n).then((function(n){"ok"==n.data?(t.$store.commit("gModalOn",{msg:"유저 [".concat(e,"]님을 초대하였습니다."),size:"small"}),t.isInvite=e):"already"==n.data?t.$store.commit("gModalOn",{msg:"이미 초대한 유저입니다.",size:"small"}):t.$store.commit("gModalOn",{msg:"ERR : 유저 초대 실패",size:"small"})}))},coopList:function(){var e=this;p.post("/engine/team/memberList",{pjCode:this.pjCode}).then((function(t){if(console.log(t),"err"==t.data)e.$store.commit("gModalOn",{msg:"ERR : 작업자 없음",size:"small"}),e.memberList=null;else{e.memberList=t.data;for(var n=0;n<e.memberList.length;n++)e.memberList[n].edit=!1}})).catch((function(e){console.error(e)}))},scheList:function(){var e=this;this.schedult=null,p.post("/engine/team/scheduleList",{pjCode:this.pjCode}).then((function(t){console.log("SCHE THEN"),"err"==t.data?e.schedule=null:e.schedule=t.data})).finally((function(){console.log("SCHE FIN");for(var t=0;t<e.schedule.length;t++)e.schedule[t].select=!1}))},makeSchedule:function(e,t,n,c){var o=this;null==t||null==n||""==c||null==e?this.$store.commit("gModalOn",{msg:"내용을 채워 저장해주세요.",size:"normal"}):t>n?(this.$store.commit("gModalOn",{msg:"시작일을 종료일보다 작거나 같게 입력해주세요.",size:"normal"}),this.scheduleSt=null,this.scheduleEd=null):p.post("/engine/team/addSchedule",{pjCode:this.pjCode,list:e,st:t,ed:n,content:c}).then(function(){var e=Object(xt["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("err"!=t){e.next=4;break}o.$store.commit("gModalOn",{msg:"ERR : 생성 실패",size:"small"}),e.next=11;break;case 4:return o.scheduleList=null,o.scheduleSt=null,o.scheduleEd=null,o.scheduleContent="",e.next=10,o.scheList;case 10:o.$store.commit("gModalOn",{msg:"일정을 생성했습니다.",size:"small"});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},deleteSchedule:function(){for(var e=this,t=[],n=0;n<this.schedule.length;n++)this.schedule[n].select&&t.push(this.schedule[n].SCHE_CODE);0==t.length?this.$store.commit("gModalOn",{msg:"선택한 일정이 없습니다.",size:"small"}):p.post("/engine/team/deleteSchedule",{list:t}).then((function(t){console.log("DELETE THEN"),"err"==t?e.$store.commit("gModalOn",{msg:"ERR : 삭제 실패",size:"small"}):e.$store.commit("gModalOn",{msg:"성공적으로 삭제했습니다.",size:"small"})})).finally((function(){e.scheList}))}}});n("6ea9");const Mt=S()(yt,[["render",Ct]]);var Nt=Mt,Vt=(n("b0c0"),n("233b")),Pt=n.n(Vt),wt=n("2af3"),Et=n.n(wt),Rt=n("0ae8"),Bt=n.n(Rt),Tt={class:"VSBackgroundRes"},Lt={class:"VSResourceTool"},It=Object(c["g"])("div",{class:"VSResourceTitle"},[Object(c["g"])("span",null,"리소스 관리")],-1),$t={class:"VSResourceButtons"},At={key:0,class:"VSFolderList"},Dt={class:"VSResourceSubTitle"},Ft={key:0,class:"VSFileThumnail"},Ut=["src","onClick"],Kt=["onDblclick","onClick"],Jt=Object(c["g"])("img",{src:Pt.a},null,-1),zt=[Jt],Ht=["onClick"],Gt=Object(c["g"])("img",{src:L.a},null,-1),Yt=[Gt],Wt=["onClick"],Xt=Object(c["g"])("img",{src:Et.a},null,-1),qt=[Xt],Qt={class:"VSFolderName"},Zt={key:1,class:"VSFileList"},en={class:"VSFileLocation"},tn=Object(c["g"])("span",null,"뒤로가기",-1),nn=[tn],cn=["onDblclick"],on=["src"],sn=["onDblclick","onClick"],an=Object(c["g"])("img",{src:Pt.a},null,-1),rn=[an],ln=["onClick"],un=Object(c["g"])("img",{src:L.a},null,-1),dn=[un],pn=["onClick"],bn=Object(c["g"])("img",{src:Bt.a},null,-1),gn=[bn],jn=["onClick"],fn=Object(c["g"])("img",{src:Et.a},null,-1),On=[fn],mn={class:"VSFileName"},hn={key:0,class:"VSResPlayer"},vn={class:"VSRNowPlay"},Sn=["src"];function kn(e,t,n,o,s,i){var a=this,r=Object(c["y"])("ConfirmModal"),l=Object(c["y"])("FileUploadModal"),u=Object(c["y"])("InputModal"),d=Object(c["y"])("TypeModal");return Object(c["t"])(),Object(c["f"])(c["a"],null,[Object(c["j"])(r,{ref:"confirmModal"},null,512),Object(c["j"])(l,{ref:"fileUploadModal",onUploadOk:t[0]||(t[0]=function(e){return i.uploadOk()})},null,512),Object(c["j"])(u,{ref:"inputModal",onInputFolderName:i.inputFolderName,onInputNewName:i.inputNewName},null,8,["onInputFolderName","onInputNewName"]),Object(c["j"])(d,{ref:"typeModal",onInputResource:i.inputResource},null,8,["onInputResource"]),Object(c["g"])("div",Tt,[Object(c["g"])("div",Lt,[It,Object(c["g"])("div",$t,[Object(c["g"])("button",{onClick:t[1]||(t[1]=function(e){return i.fileManagerOpen(a.folderPath)})},"업로드"),Object(c["g"])("button",{onClick:t[2]||(t[2]=function(e){return i.createDir()})},"폴더추가")])]),Object(c["g"])("div",{class:Object(c["p"])(Object(C["a"])({},s.resListStatus,!0))},[0==s.clickFolder?(Object(c["t"])(),Object(c["f"])("div",At,[Object(c["g"])("div",Dt,[Object(c["g"])("span",null,Object(c["A"])(s.folderPath),1)]),(Object(c["t"])(!0),Object(c["f"])(c["a"],null,Object(c["x"])(s.rootList,(function(e,t){return Object(c["t"])(),Object(c["f"])("div",{class:"VSFolder",key:t},["png"==e.ex||"jpg"==e.ex||"gif"==e.ex||"jpeg"==e.ex||"PNG"==e.ex||"JPG"==e.ex||"GIF"==e.ex||"FPEG"==e.ex?(Object(c["t"])(),Object(c["f"])("div",Ft,[Object(c["g"])("img",{src:e.url,onClick:function(t){return i.send(e.key)}},null,8,Ut)])):"mp3"==e.ex||"MP3"==e.ex?(Object(c["t"])(),Object(c["f"])("div",{key:1,class:"VSFileThumnail",onDblclick:function(t){return i.send(e)},onClick:function(t){return i.playerOn(e)}},zt,40,Kt)):"dir"==e.ex?(Object(c["t"])(),Object(c["f"])("div",{key:2,class:"VSFolderThumnail",onClick:function(t){return i.goToFolder(e.key)}},Yt,8,Ht)):Object(c["e"])("",!0),Object(c["g"])("div",{class:"VSFolderDelButton",onClick:function(t){return i.deleteFile(e.name,e.key)}},qt,8,Wt),Object(c["g"])("div",Qt,[Object(c["g"])("p",null,Object(c["A"])(e.name),1)])])})),128))])):(Object(c["t"])(),Object(c["f"])("div",Zt,[Object(c["g"])("div",en,[Object(c["g"])("span",null,Object(c["A"])(s.folderPath),1)]),Object(c["g"])("div",{class:"VSFileReturn",onClick:t[3]||(t[3]=function(e){return i.back()})},nn),(Object(c["t"])(!0),Object(c["f"])(c["a"],null,Object(c["x"])(s.fileList,(function(e,t){return Object(c["t"])(),Object(c["f"])("div",{class:"VSFile",key:t},["png"==e.ex||"jpg"==e.ex||"gif"==e.ex||"jpeg"==e.ex||"PNG"==e.ex||"JPG"==e.ex||"GIF"==e.ex||"JPEG"==e.ex?(Object(c["t"])(),Object(c["f"])("div",{key:0,class:"VSFileThumnail",onDblclick:function(t){return i.send(e)}},[Object(c["g"])("img",{src:e.url},null,8,on)],40,cn)):"mp3"==e.ex||"MP3"==e.ex?(Object(c["t"])(),Object(c["f"])("div",{key:1,class:"VSFileThumnail",onDblclick:function(t){return i.send(e)},onClick:function(t){return i.playerOn(e)}},rn,40,sn)):"dir"==e.ex?(Object(c["t"])(),Object(c["f"])("div",{key:2,class:"VSFolderThumnail",onClick:function(t){return i.goToFolder(e.key)}},dn,8,ln)):Object(c["e"])("",!0),Object(c["g"])("div",{class:"VSFileDetailButton",onClick:function(t){return i.editName(e.name,e.key)}},gn,8,pn),Object(c["g"])("div",{class:"VSFileDelButton",onClick:function(t){return i.deleteFile(e.name,e.key)}},On,8,jn),Object(c["g"])("div",mn,[Object(c["g"])("p",null,Object(c["A"])(e.name),1)])])})),128))]))],2),1==s.isPlayerOn?(Object(c["t"])(),Object(c["f"])("div",hn,[Object(c["g"])("div",vn,[Object(c["g"])("span",null,Object(c["A"])(s.playName),1)]),Object(c["g"])("button",{class:"VSRPlayerControl",onClick:t[4]||(t[4]=function(e){return i.playerOff()})},"닫기"),Object(c["g"])("audio",{class:"VSRPlayerAudio",src:s.playList,autoplay:"",controls:""},null,8,Sn)])):Object(c["e"])("",!0)])],64)}n("99af"),n("ac1f"),n("1276"),n("fb6a"),n("a15b"),n("a434");var _n={key:0},Cn=Object(c["g"])("div",{class:"modal_opacity"},null,-1),xn={class:"Cmodal_inner"},yn={class:"Cmodal_save_ok"},Mn={class:"Cmodal_cancel_ok"};function Nn(e,t,n,o,s,i){return s.cModalState?(Object(c["t"])(),Object(c["f"])("div",_n,[Cn,Object(c["g"])("div",{class:Object(c["p"])(Object(C["a"])({},"Cmodal_frame_".concat(this.cModalSize),!0))},[Object(c["g"])("div",xn,[Object(c["g"])("span",null,Object(c["A"])(this.cModalMsg),1)]),Object(c["g"])("div",{class:"Cmodal_save_button",onClick:t[0]||(t[0]=function(e){return i.modalCloseY()})},[Object(c["g"])("span",yn,Object(c["A"])(this.cModalBtn1),1)]),Object(c["g"])("div",{class:"Cmodal_cancel_button",onClick:t[1]||(t[1]=function(e){return i.modalCloseN()})},[Object(c["g"])("span",Mn,Object(c["A"])(this.cModalBtn2),1)])],2)])):Object(c["e"])("",!0)}var Vn={name:"ConfirmModal",data:function(){return{cModalState:!1,cModalSize:"",cModalMsg:"",cModalBtn1:"",cModalBtn2:"",resolvePromise:void 0,rejectPromise:void 0}},methods:{show:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.cModalState=!0,this.cModalSize=t.size,this.cModalMsg=t.msg,this.cModalBtn1=t.btn1,this.cModalBtn2=t.btn2,new Promise((function(t,n){e.resolvePromise=t,e.rejectPromise=n}))},modalCloseY:function(){this.cModalState=!1,this.resolvePromise(!0)},modalCloseN:function(){this.cModalState=!1,this.resolvePromise(!1)}}};n("afa5");const Pn=S()(Vn,[["render",Nn]]);var wn=Pn,En={key:0},Rn=Object(c["g"])("div",{class:"modal_opacity"},null,-1),Bn={class:Object(c["p"])(Object(C["a"])({},"Fmodal_frame",!0))},Tn=Object(c["g"])("div",{class:"FileManagerTitle"},[Object(c["g"])("p",null,"VSN 파일 매니저")],-1),Ln={class:"Fmodal_inner"},In={key:0,class:"Fmodal_Path"},$n={key:1,class:"Fmodal_Path"},An={key:2,class:"Fmodal_UploadArea"},Dn=Object(c["g"])("p",{class:"UploadBefore"},"업로드할 파일을 이곳에 Drag&Drop",-1),Fn=Object(c["g"])("p",{class:"UploadAfter"},"+",-1),Un={key:3,class:"Fmodal_FileList"},Kn={key:4,class:"Fmodal_UploadArea_After"},Jn=Object(c["g"])("p",{class:"UploadBefore_After"},"업로드할 파일을 이곳에 Drag&Drop",-1),zn=Object(c["g"])("p",{class:"UploadAfter_After"},"+",-1),Hn={class:"Fmodal_Progress"},Gn={key:0,class:"Fmodal_save_button"},Yn=Object(c["g"])("span",{class:"Fmodal_save_ok"},"파일을 추가해주세요",-1),Wn=[Yn],Xn=Object(c["g"])("span",{class:"Fmodal_save_ok"},"업로드",-1),qn=[Xn],Qn={key:2,class:"Fmodal_save_button"},Zn=Object(c["g"])("span",{class:"Fmodal_save_ok"},"업로드 중...",-1),ec=[Zn],tc=Object(c["g"])("span",{class:"Fmodal_save_ok"},"닫기",-1),nc=[tc],cc=Object(c["g"])("span",{class:"Fmodal_cancel_ok"},"취소",-1),oc=[cc];function sc(e,t,n,o,s,i){return s.fModalState?(Object(c["t"])(),Object(c["f"])("div",En,[Rn,Object(c["g"])("div",Bn,[Tn,Object(c["g"])("div",Ln,["/"==s.path?(Object(c["t"])(),Object(c["f"])("div",In,"대상 경로 : /")):(Object(c["t"])(),Object(c["f"])("div",$n,"대상 경로 : "+Object(c["A"])(s.path),1)),0==this.files.length?(Object(c["t"])(),Object(c["f"])("div",An,[Object(c["g"])("input",{class:"Fmodal_UploadAreaInput",multiple:"",ref:"fileM",type:"file",onChange:t[0]||(t[0]=function(){return i.onFileChange&&i.onFileChange.apply(i,arguments)}),onDragover:t[1]||(t[1]=Object(c["I"])((function(){}),["prevent"])),onDragenter:t[2]||(t[2]=Object(c["I"])((function(){}),["prevent"])),onDrop:t[3]||(t[3]=Object(c["I"])((function(){return i.onDrop&&i.onDrop.apply(i,arguments)}),["prevent"]))},null,544),Dn,Fn])):(Object(c["t"])(),Object(c["f"])("div",Un,[Object(c["g"])("ul",null,[(Object(c["t"])(!0),Object(c["f"])(c["a"],null,Object(c["x"])(s.files,(function(e,t){return Object(c["t"])(),Object(c["f"])("li",{key:t},Object(c["A"])(e.name),1)})),128))])])),this.files.length>0?(Object(c["t"])(),Object(c["f"])("div",Kn,[Object(c["g"])("input",{class:"Fmodal_UploadAreaInput_After",multiple:"",ref:"fileM",type:"file",onChange:t[4]||(t[4]=function(){return i.onFileChange&&i.onFileChange.apply(i,arguments)}),onDragover:t[5]||(t[5]=Object(c["I"])((function(){}),["prevent"])),onDragenter:t[6]||(t[6]=Object(c["I"])((function(){}),["prevent"])),onDrop:t[7]||(t[7]=Object(c["I"])((function(){return i.onDrop&&i.onDrop.apply(i,arguments)}),["prevent"]))},null,544),Jn,zn])):Object(c["e"])("",!0),Object(c["g"])("div",Hn," 업로드 : "+Object(c["A"])(s.currentUpload)+" 진행도 : "+Object(c["A"])(s.progress),1)]),0==s.files.length?(Object(c["t"])(),Object(c["f"])("div",Gn,Wn)):0==s.uploading?(Object(c["t"])(),Object(c["f"])("div",{key:1,class:"Fmodal_save_button",onClick:t[8]||(t[8]=function(e){return i.fileUpload()})},qn)):1==s.uploading?(Object(c["t"])(),Object(c["f"])("div",Qn,ec)):"ok"==s.uploading?(Object(c["t"])(),Object(c["f"])("div",{key:3,class:"Fmodal_save_button",onClick:t[9]||(t[9]=function(e){return i.modalClose()})},nc)):Object(c["e"])("",!0),0==s.uploading?(Object(c["t"])(),Object(c["f"])("div",{key:4,class:"Fmodal_cancel_button",onClick:t[10]||(t[10]=function(e){return i.modalClose()})},oc)):Object(c["e"])("",!0)])])):Object(c["e"])("",!0)}var ic=n("4a9d"),ac=new ic.S3({region:"ap-northeast-2",accessKeyId:"AKIARKU2Y4IXVCR266PO",secretAccessKey:"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"}),rc={name:"UploadModal",data:function(){return{fModalState:!1,fModalSize:"",pjCode:"",path:"",currentUpload:"",progress:"",uploading:!1,files:[]}},methods:{modalClose:function(){this.fModalState=!1,this.files=[],this.currentUpload="-",this.progress="-"},show:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"ok"==this.uploading&&(this.uploading=!1),this.fModalState=!0,this.fModalSize=e.size,this.path=e.path,this.pjCode=e.pjCode},onDragenter:function(){this.isDragged=!0},onDragleave:function(){this.isDragged=!1},onDragover:function(e){e.preventDefault()},onDrop:function(e){this.isDragged=!1;for(var t=0;t<e.dataTransfer.files.length;t++)this.files.push(e.dataTransfer.files[t])},onFileChange:function(e){for(var t=0;t<e.target.files.length;t++)this.files.push(e.target.files[t])},fileUpload:function(){var e=this;"/"==this.path&&(this.path="");for(var t=0;t<this.files.length;t++){var n={Bucket:"vsnovel",Key:"Project/PJ".concat(this.pjCode,"/resource/").concat(this.path)+this.files[t].name,Body:this.files[t]};this.currentUpload=this.files[t].name,ac.upload(n).on("httpUploadProgress",(function(t){e.progress=parseInt(100*t.loaded/t.total)+"%",e.uploading=!0})).send((function(t){if(t)return console.log("FileUpload : Error\n"+t),"err";e.$emit("uploadOk"),e.uploading="ok"})),this.progress=0}}}};n("b765");const lc=S()(rc,[["render",sc]]);var uc=lc,dc={key:0},pc=Object(c["g"])("div",{class:"modal_opacity"},null,-1),bc={class:Object(c["p"])(Object(C["a"])({},"Imodal_frame",!0))},gc={class:"InputModalTitle"},jc={class:"Imodal_inner"},fc={class:"Imodal_inputTag"},Oc=Object(c["g"])("span",{class:"Imodal_save_ok"},"확인",-1),mc=[Oc],hc=Object(c["g"])("span",{class:"Imodal_cancel_ok"},"취소",-1),vc=[hc];function Sc(e,t,n,o,s,i){return s.iModalState?(Object(c["t"])(),Object(c["f"])("div",dc,[pc,Object(c["g"])("div",bc,[Object(c["g"])("div",gc,[Object(c["g"])("p",null,Object(c["A"])(s.msg),1)]),Object(c["g"])("div",jc,[Object(c["g"])("div",fc,[Object(c["H"])(Object(c["g"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return s.input=e})},null,512),[[c["E"],s.input]])])]),Object(c["g"])("div",{class:"Imodal_save_button",onClick:t[1]||(t[1]=function(e){return i.inputVal()})},mc),Object(c["g"])("div",{class:"Imodal_cancel_button",onClick:t[2]||(t[2]=function(e){return i.modalClose()})},vc)])])):Object(c["e"])("",!0)}var kc={name:"InputModal",data:function(){return{iModalState:!1,iModalSize:"",msg:"",input:"",type:"",key:"",preName:"",ex:"",index:null,plot:null,status:null}},props:{VN:Object},methods:{modalClose:function(){this.iModalState=!1,this.input=""},show:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch(this.iModalState=!0,this.iModalSize=e.size,this.msg=e.msg,this.type=e.type,this.type){case"rename":this.preName=e.preName.split("."),this.ex=this.preName[1],this.input=this.preName[0],this.key=e.key;break;case"change":this.index=e.index,this.plot=e.plot,this.status=e.status;break}},inputVal:function(){var e;if(""==this.input)console.log("InputVal : Null");else switch("change"==this.type&&(e=this.VN),this.type){case"newFolder":this.$emit("inputFolderName",this.input),this.modalClose();break;case"rename":this.$emit("inputNewName",{newName:this.input+"."+this.ex,key:this.key}),this.modalClose();break;case"change":"plot"==this.status?e.plotList[this.plot].plotName=this.input:"page"==this.status?e.plotList[this.plot].pages[this.index].pageName=this.input:"add"==this.status&&e.plotList.push({plotName:this.input,nextPlot:0,pages:[]}),this.$emit("changeVN",e),this.modalClose();break;case"ep":this.$emit("addEp",this.input),this.modalClose()}}}};n("ba22");const _c=S()(kc,[["render",Sc]]);var Cc=_c,xc=(n("b64b"),{key:0}),yc=Object(c["g"])("div",{class:"modal_opacity"},null,-1),Mc={class:Object(c["p"])(Object(C["a"])({},"Tmodal_frame",!0))},Nc={class:"Tmodal_inner"},Vc={class:"TmodalTitle"},Pc={class:"Tmodal_ButtonPosition"},wc={class:"Tmodal_type_ok"},Ec={class:"Tmodal_type_ok"},Rc=Object(c["g"])("span",{class:"Tmodal_cancel_ok"},"닫기",-1),Bc=[Rc];function Tc(e,t,n,o,s,i){return s.tModalState?(Object(c["t"])(),Object(c["f"])("div",xc,[yc,Object(c["g"])("div",Mc,[Object(c["g"])("div",Nc,[Object(c["g"])("div",Vc,[Object(c["g"])("p",null,Object(c["A"])(s.msg),1)]),Object(c["g"])("div",Pc,[Object(c["g"])("div",{class:"Tmodal_type_button",onClick:t[0]||(t[0]=function(e){return i.inputType(s.option[Object.keys(s.option)[0]])})},[Object(c["g"])("span",wc,Object(c["A"])(Object.keys(s.option)[0]),1)]),Object(c["g"])("div",{class:"Tmodal_type_button",onClick:t[1]||(t[1]=function(e){return i.inputType(s.option[Object.keys(s.option)[1]])})},[Object(c["g"])("span",Ec,Object(c["A"])(Object.keys(s.option)[1]),1)])]),Object(c["g"])("div",{class:"Tmodal_cancel_button",onClick:t[2]||(t[2]=function(e){return i.modalClose()})},Bc)])])])):Object(c["e"])("",!0)}var Lc={name:"TypeModal",data:function(){return{tModalState:!1,tModalSize:"",msg:"",option:{},data:{}}},methods:{modalClose:function(){this.tModalState=!1,this.input=""},show:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.tModalState=!0,this.tModalSize=e.size,this.msg=e.msg,this.option=e.option,this.data=e.data},inputType:function(e){this.$emit("inputResource",this.data,e),this.tModalState=!1}}};n("eeb9");const Ic=S()(Lc,[["render",Tc]]);var $c=Ic,Ac=n("183a"),Dc=n.n(Ac),Fc={name:"V_side_resource",components:{ConfirmModal:wn,FileUploadModal:uc,InputModal:Cc,TypeModal:$c},props:{pjCode:String},mounted:function(){this.getData()},watch:{folderPath:function(e,t){console.log(t,"->",e)}},data:function(){return{clickFolder:!1,preFolderPath:["/"],folderPath:"/",rootList:[],fileList:[],files:[],isPlayerOn:!1,resListStatus:"VSResList",playList:"",playName:""}},methods:{getData:function(){var e=this;return Object(xt["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("해당 프로젝트의 파일 목록을 불러옴",e.pjCode),t.next=3,Dc.a.getUrlList("Project/PJ".concat(e.pjCode,"/resource/"));case 3:e.rootList=t.sent,console.log(e.rootList);case 5:case"end":return t.stop()}}),t)})))()},getFileList:function(e){var t=this;return Object(xt["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Dc.a.getUrlList("Project/PJ".concat(t.pjCode,"/resource/").concat(e,"/"));case 2:t.fileList=n.sent,console.log(t.fileList);case 4:case"end":return n.stop()}}),n)})))()},goToFolder:function(e){var t=this;return Object(xt["a"])(regeneratorRuntime.mark((function n(){var c,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.clickFolder=!0,t.folderPath=e,c=t.folderPath.split("/"),c=c.slice(3),o=c.join("/"),t.folderPath=o,t.preFolderPath.push(o),n.next=9,Dc.a.getUrlList("Project/PJ".concat(t.pjCode,"/resource/").concat(o));case 9:t.fileList=n.sent,console.log(t.fileList);case 11:case"end":return n.stop()}}),n)})))()},createDir:function(){this.$refs.inputModal.show({msg:"폴더 이름을 입력해주세요.",size:"normal",type:"newFolder"})},inputFolderName:function(e){var t=this;return Object(xt["a"])(regeneratorRuntime.mark((function n(){var c,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return c="/"==t.folderPath?"Project/PJ".concat(t.pjCode,"/resource/")+e+"/":"Project/PJ".concat(t.pjCode,"/resource/")+t.folderPath+e+"/",console.log("새로운 폴더 생성",c),n.next=4,Dc.a.createFolder(c);case 4:if(o=n.sent,"ok"!=o){n.next=17;break}if("/"!=t.folderPath){n.next=12;break}return n.next=9,Dc.a.getUrlList("Project/PJ".concat(t.pjCode,"/resource/"));case 9:t.rootList=n.sent,n.next=15;break;case 12:return n.next=14,Dc.a.getUrlList("Project/PJ".concat(t.pjCode,"/resource/").concat(t.folderPath));case 14:t.fileList=n.sent;case 15:n.next=18;break;case 17:console.error("폴더 생성 실패");case 18:case"end":return n.stop()}}),n)})))()},fileManagerOpen:function(e){this.$refs.fileUploadModal.show({size:"big",path:e,pjCode:this.pjCode})},uploadOk:function(){var e=this;return Object(xt["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("/"!=e.folderPath){t.next=6;break}return t.next=3,Dc.a.getUrlList("Project/PJ".concat(e.pjCode,"/resource/"));case 3:e.rootList=t.sent,t.next=9;break;case 6:return t.next=8,Dc.a.getUrlList("Project/PJ".concat(e.pjCode,"/resource/").concat(e.folderPath));case 8:e.fileList=t.sent;case 9:case"end":return t.stop()}}),t)})))()},editName:function(e,t){var n=this;return Object(xt["a"])(regeneratorRuntime.mark((function c(){return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:n.$store.commit("opacityOn"),n.$refs.inputModal.show({msg:"이름 변경",size:"normal",type:"rename",preName:e,key:t});case 2:case"end":return c.stop()}}),c)})))()},inputNewName:function(e){var t=this;return Object(xt["a"])(regeneratorRuntime.mark((function n(){var c,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return c="/"==t.folderPath?"Project/PJ".concat(t.pjCode,"/resource/"):"Project/PJ".concat(t.pjCode,"/resource/").concat(t.folderPath),n.next=3,Dc.a.editName(e.key,e.newName,c);case 3:if(o=n.sent,"ok"!=o){n.next=16;break}if("/"!=t.folderPath){n.next=11;break}return n.next=8,Dc.a.getUrlList("Project/PJ".concat(t.pjCode,"/resource/"));case 8:t.rootList=n.sent,n.next=14;break;case 11:return n.next=13,Dc.a.getUrlList("Project/PJ".concat(t.pjCode,"/resource/").concat(t.folderPath));case 13:t.fileList=n.sent;case 14:n.next=17;break;case 16:console.error("이름 변경 실패");case 17:case"end":return n.stop()}}),n)})))()},deleteFile:function(e,t){var n=this;return Object(xt["a"])(regeneratorRuntime.mark((function c(){var o,s,i,a,r;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:if(o=e.split("."),void 0!=o[1]){c.next=24;break}return c.next=4,n.$refs.confirmModal.show({msg:"폴더 [".concat(e,"]를 삭제하시겠습니까? 폴더 내부 파일도 함께 삭제됩니다."),size:"normal",btn1:"확인",btn2:"취소"});case 4:if(s=c.sent,1!=s){c.next=22;break}return c.next=8,Dc.a.deleteFolder(t);case 8:if(i=c.sent,"ok"!=i){c.next=21;break}if("/"!=n.folderPath){c.next=16;break}return c.next=13,Dc.a.getUrlList("Project/PJ".concat(n.pjCode,"/resource/"));case 13:n.rootList=c.sent,c.next=19;break;case 16:return c.next=18,Dc.a.getUrlList("Project/PJ".concat(n.pjCode,"/resource/").concat(n.folderPath));case 18:n.fileList=c.sent;case 19:c.next=22;break;case 21:console.error("폴더 삭제 실패");case 22:c.next=44;break;case 24:return c.next=26,n.$refs.confirmModal.show({msg:"파일 [".concat(e,"]를 삭제하시겠습니까?"),size:"normal",btn1:"확인",btn2:"취소"});case 26:if(a=c.sent,1!=a){c.next=44;break}return c.next=30,Dc.a.deleteFile(t);case 30:if(r=c.sent,"ok"!=r){c.next=43;break}if("/"!=n.folderPath){c.next=38;break}return c.next=35,Dc.a.getUrlList("Project/PJ".concat(n.pjCode,"/resource/"));case 35:n.rootList=c.sent,c.next=41;break;case 38:return c.next=40,Dc.a.getUrlList("Project/PJ".concat(n.pjCode,"/resource/").concat(n.folderPath));case 40:n.fileList=c.sent;case 41:c.next=44;break;case 43:console.error("파일 삭제 실패");case 44:case"end":return c.stop()}}),c)})))()},back:function(){var e=this;return Object(xt["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.preFolderPath.splice(-1,1),1!=e.preFolderPath.length){t.next=9;break}return e.folderPath=e.preFolderPath[0],e.clickFolder=!1,t.next=6,Dc.a.getDirList("Project/PJ".concat(e.pjCode,"/resource/"));case 6:e.folderList=t.sent,t.next=13;break;case 9:return e.folderPath=e.preFolderPath[e.preFolderPath.length-1],t.next=12,Dc.a.getUrlList("Project/PJ".concat(e.pjCode,"/resource/").concat(e.folderPath));case 12:e.fileList=t.sent;case 13:case"end":return t.stop()}}),t)})))()},playerOn:function(e){this.isPlayerOn=!0,this.resListStatus="VSResListOnPlayer",this.playName=e.name,this.playList=e.url},playerOff:function(){this.isPlayerOn=!1,this.resListStatus="VSResList"},send:function(e){"mp3"==e.ex||"MP3"==e.ex?this.$refs.typeModal.show({msg:"선택한 음성파일을 어떤 역할로 사용하시겠습니까?",size:"normal",data:e,option:{"효과음":"effect","배경음악":"bgm"}}):this.$refs.typeModal.show({msg:"선택한 사진을 어떤 역할로 사용하시겠습니까?",size:"normal",data:e,option:{"배경":"bg","이미지":"img"}})},inputResource:function(e,t){this.$emit("send",{key:e.key,ex:e.ex,type:t}),console.log(e,t)}}};n("04a6");const Uc=S()(Fc,[["render",kn]]);var Kc=Uc,Jc={class:"VSBackgroundSet"},zc={class:"VSSetTool"},Hc=Object(c["g"])("div",{class:"VSSetTitle"},[Object(c["g"])("span",null,"설정")],-1),Gc={class:"VSSetButtons"},Yc={class:"VSSetList"},Wc={class:"VSSetMenu"},Xc=Object(c["g"])("p",null,"프로젝트 상태 변경",-1),qc=[Xc],Qc={key:0,class:"VSSetMenuInner"},Zc=Object(c["g"])("option",{value:"D"},"개발중",-1),eo=Object(c["g"])("option",{value:"S"},"배포",-1),to=Object(c["g"])("option",{value:"P"},"개발중단",-1),no=[Zc,eo,to],co={class:"VSSetMenu"},oo=Object(c["g"])("p",null,"제목 변경",-1),so=[oo],io={key:0,class:"VSSetMenuInner"},ao={class:"VSSetMenu"},ro=Object(c["g"])("p",null,"시놉시스 작성",-1),lo=[ro],uo={key:0,class:"VSSetMenuInner"},po={class:"VSSetMenu"},bo=Object(c["g"])("p",null,"프로젝트 삭제",-1),go=[bo];function jo(e,t,n,o,s,i){var a=Object(c["y"])("ConfirmModal");return Object(c["t"])(),Object(c["f"])(c["a"],null,[Object(c["j"])(a,{ref:"confirmModal"},null,512),Object(c["g"])("div",Jc,[Object(c["g"])("div",zc,[Hc,Object(c["g"])("div",Gc,[Object(c["g"])("button",{onClick:t[0]||(t[0]=function(e){return i.saveEdit()})},"저장")])]),Object(c["g"])("div",Yc,[Object(c["g"])("div",Wc,[Object(c["g"])("div",{class:"VSSetMenuTitle",onClick:t[1]||(t[1]=function(e){return i.menuClick(0)})},qc),1==s.menu0?(Object(c["t"])(),Object(c["f"])("div",Qc,[Object(c["H"])(Object(c["g"])("select",{class:"VSSetStatus","onUpdate:modelValue":t[2]||(t[2]=function(e){return s.status=e})},no,512),[[c["D"],s.status]])])):Object(c["e"])("",!0)]),Object(c["g"])("div",co,[Object(c["g"])("div",{class:"VSSetMenuTitle",onClick:t[3]||(t[3]=function(e){return i.menuClick(1)})},so),1==s.menu1?(Object(c["t"])(),Object(c["f"])("div",io,[Object(c["H"])(Object(c["g"])("input",{class:"VSSetTitleInput",type:"text",placeholder:"제목","onUpdate:modelValue":t[4]||(t[4]=function(e){return s.title=e})},null,512),[[c["E"],s.title]])])):Object(c["e"])("",!0)]),Object(c["g"])("div",ao,[Object(c["g"])("div",{class:"VSSetMenuTitle",onClick:t[5]||(t[5]=function(e){return i.menuClick(2)})},lo),1==s.menu2?(Object(c["t"])(),Object(c["f"])("div",uo,[Object(c["H"])(Object(c["g"])("textarea",{class:"VSSetSynopsis",cols:"40",rows:"10","onUpdate:modelValue":t[6]||(t[6]=function(e){return s.synopsis=e})},"\r\n          ",512),[[c["E"],s.synopsis]])])):Object(c["e"])("",!0)]),Object(c["g"])("div",po,[Object(c["g"])("div",{class:"VSSetMenuTitle",onClick:t[7]||(t[7]=function(e){return i.deletePj()})},go)])])])],64)}var fo={name:"V_side_setting",props:{pjCode:String},components:{ConfirmModal:wn},created:function(){this.getPjInfo(this.pjCode)},data:function(){return{menu0:!1,menu1:!1,menu2:!1,status:"",title:"",synopsis:""}},methods:{menuClick:function(e){switch(e){case 0:this.menu0=!this.menu0;break;case 1:this.menu1=!this.menu1;break;case 2:this.menu2=!this.menu2;break}},getPjInfo:function(){var e=this;p.post("/engine/pj/getPjInfo",{pjCode:this.pjCode}).then((function(t){"err"==t.data?e.$store.commit("gModalOn",{msg:"프로젝트 정보 불러오기를 실패했습니다.",size:"normal"}):(e.status=t.data.PROJ_STATUS,e.title=t.data.PROJ_TITLE,e.synopsis=t.data.PROJ_SYNOPSIS)})).catch((function(e){console.error(e)}))},saveEdit:function(){var e=this,t={pjCode:this.pjCode,status:this.status,title:this.title,synopsis:this.synopsis};p.patch("/engine/pj/editPjInfo",t).then((function(t){"ok"==t.data?(e.$store.commit("gModalOn",{msg:"수정되었습니다.",size:"small"}),e.$emit("pjEdit",!1)):e.$store.commit("gModalOn",{msg:"ERR : 프로젝트 수정 실패.",size:"small"})})).catch((function(e){console.error(e)}))},deletePj:function(){var e=this;return Object(xt["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.confirmModal.show({msg:"프로젝트 [".concat(e.title,"]를 삭제하시겠습니까?"),size:"normal",btn1:"확인",btn2:"취소"});case 2:n=t.sent,1==n?p.post("/engine/pj/deletePj",{pjCode:e.pjCode}).then((function(t){"ok"==t.data?(e.$store.commit("gModalOn",{msg:"프로젝트가 삭제되었습니다.",size:"normal"}),e.$router.push("/")):e.$store.commit("gModalOn",{msg:"ERR : 삭제를 실패했습니다.",size:"normal"})})).catch((function(e){console.error(e)})).finally((function(){e.$router.push("/")})):console.log("삭제 취소");case 4:case"end":return t.stop()}}),t)})))()}}};n("61b9");const Oo=S()(fo,[["render",jo]]);var mo=Oo,ho=n("e236"),vo=n.n(ho),So=n("9f38"),ko=n.n(So),_o={class:"SBackgroundMain"},Co={class:"UserInfo"},xo={class:"UserProfileFrame"},yo=Object(c["g"])("div",{class:"UserProfileImg"},[Object(c["g"])("img",{src:vo.a})],-1),Mo={class:"UserProfileInfo"},No=Object(c["g"])("div",{class:"UserProfileDeco"},null,-1),Vo={class:"UserSignFrame"},Po=Object(c["g"])("button",null,"로그인",-1),wo={class:"AlertCenter"},Eo={class:"invite_center"},Ro=Object(c["g"])("img",{class:"invite_icon",src:ko.a},null,-1),Bo={key:0,class:Object(c["p"])({invite_modal_on:!0})},To={key:0},Lo={key:0,class:"invite_message"},Io=["onClick"],$o=["onClick"],Ao={key:1,class:"invite_message"},Do=["onClick"],Fo=["onClick"],Uo=Object(c["g"])("hr",null,null,-1),Ko={key:1};function Jo(e,t,n,o,s,i){var a=Object(c["y"])("ConfirmModal"),r=Object(c["y"])("router-link");return Object(c["t"])(),Object(c["f"])(c["a"],null,[Object(c["j"])(a,{ref:"confirmModal"},null,512),Object(c["g"])("div",_o,[Object(c["g"])("div",Co,[Object(c["g"])("div",xo,[yo,Object(c["g"])("div",Mo,Object(c["A"])(this.$store.state.userNickname),1),No,Object(c["g"])("div",Vo,[null==e.$store.state.userNickname?(Object(c["t"])(),Object(c["d"])(r,{key:0,to:"/signin"},{default:Object(c["G"])((function(){return[Po]})),_:1})):(Object(c["t"])(),Object(c["f"])("button",{key:1,onClick:t[0]||(t[0]=function(e){return i.logout()})},"로그아웃"))])])]),Object(c["g"])("div",wo,[Object(c["g"])("div",Eo,[Object(c["g"])("div",{onClick:t[1]||(t[1]=function(e){return i.alramCenterToggle()}),class:"invite_box"},[Ro,Object(c["g"])("div",{class:Object(c["p"])(Object(C["a"])({},"invite_counter_".concat(s.existNotice),!0))},[Object(c["g"])("span",null,Object(c["A"])(s.noticeList.length),1)],2)]),s.alramStatus?(Object(c["t"])(),Object(c["f"])("div",Bo,[s.noticeList.length>0?(Object(c["t"])(),Object(c["f"])("div",To,[(Object(c["t"])(!0),Object(c["f"])(c["a"],null,Object(c["x"])(s.noticeList,(function(e){return Object(c["t"])(),Object(c["f"])("div",{key:e.SCHE_CODE},["I"==e.SCHE_TYPE&&0==e.SNOT_ISREAD?(Object(c["t"])(),Object(c["f"])("div",Lo,[Object(c["i"])(Object(c["A"])(e.SCHE_STDATE)+" ",1),Object(c["g"])("div",null,Object(c["A"])(e.SCHE_CONTENT),1),Object(c["g"])("button",{class:"invite_button",onClick:function(t){return i.PjAccept(e.PROJ_CODE,e.SCHE_CODE)}},"승인",8,Io),Object(c["g"])("button",{class:"invite_button",onClick:function(t){return i.PjRefuse(e.PROJ_CODE,e.SCHE_CODE)}},"거절",8,$o)])):Object(c["e"])("",!0),"S"==e.SCHE_TYPE&&0==e.SNOT_ISREAD?(Object(c["t"])(),Object(c["f"])("div",Ao,[Object(c["i"])(Object(c["A"])(e.SCHE_STDATE)+" ",1),Object(c["g"])("div",null,Object(c["A"])(e.SCHE_CONTENT),1),Object(c["g"])("button",{class:"invite_button",onClick:function(t){return i.PjAccept(e.PROJ_CODE,e.SCHE_CODE)}},"승인",8,Do),Object(c["g"])("button",{class:"invite_button",onClick:function(t){return i.PjRefuse(e.PROJ_CODE,e.SCHE_CODE)}},"거절",8,Fo)])):Object(c["e"])("",!0),Uo])})),128))])):(Object(c["t"])(),Object(c["f"])("div",Ko,"새로운 알림이 없습니다."))])):Object(c["e"])("",!0)])])])],64)}var zo={name:"Side_MainScreen",watch:{userId:function(){null!=this.userId&&this.getNoticeList()}},props:{userId:String},data:function(){return{noticeList:[],alramStatus:!1,existNotice:"off",CalendarStatus:!1,AlarmTap:!0}},methods:{logout:function(){var e=this;p.get("/engine/auth/logout").then((function(t){"ok"==t.data?(e.$store.commit("userLogin",{userId:null,nickName:null}),e.$router.push("/signin")):(console.log(t),alert(t.data))})).catch((function(e){console.error(e)}))},getNoticeList:function(){var e=this;p.get("/engine/team/getNoticeList").then((function(t){"err"==t.data?console.log("ERR : 알림 불러오기 실패"):(e.noticeList=t.data,t.data.length>0?e.existNotice="on":e.existNotice="off",console.log(e.noticeList))})).catch((function(e){console.error(e)}))},PjAccept:function(e,t){var n=this;return Object(xt["a"])(regeneratorRuntime.mark((function c(){var o;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return c.next=2,n.$refs.confirmModal.show({msg:"초대를 수락하시겠습니까?",size:"normal",btn1:"수락",btn2:"취소"});case 2:o=c.sent,o?(p.post("/engine/team/PjAccept",{pjCode:e,scheCode:t}).then((function(e){"ok"==e.data?n.$router.go():n.$store.commit("gModalOn",{msg:"ERR:프로젝트 초대 수락 실패",size:"normal"})})),console.log("초대 수락")):console.log("초대 보류");case 4:case"end":return c.stop()}}),c)})))()},PjRefuse:function(e,t){var n=this;return Object(xt["a"])(regeneratorRuntime.mark((function c(){var o;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return c.next=2,n.$refs.confirmModal.show({msg:"초대를 거절하시겠습니까?",size:"normal",btn1:"확인",btn2:"취소"});case 2:o=c.sent,o?p.post("/engine/team/PjRefuse",{pjCode:e,scheCode:t}).then((function(e){"err"==e.data?n.$store.commit("gModalOn",{msg:"ERR: 서버 처리 에러발생",size:"normal"}):n.getNoticeList()})):console.log("거절 보류");case 4:case"end":return c.stop()}}),c)})))()},alramCenterToggle:function(){this.alramStatus=!this.alramStatus},CalendarToggle:function(){this.CalendarStatus=!this.CalendarStatus},AlarmHistory:function(){this.AlarmTap=!this.AlarmTap}},components:{ConfirmModal:wn}};n("2243");const Ho=S()(zo,[["render",Jo]]);var Go=Ho,Yo={class:"VSBackgroundEpic"},Wo={class:"VSEpicTool"},Xo=Object(c["g"])("div",{class:"VSEpicTitle"},[Object(c["g"])("span",null,"에피소드 목록")],-1),qo={class:"VSEpicButtons"},Qo={key:0},Zo={key:1},es={class:"VSEpicList"},ts=["onClick"],ns=["onClick"],cs=["onClick"],os=Object(c["g"])("p",null,"2022-01-01 01:00:00",-1),ss=[os],is=["onClick"],as=Object(c["g"])("p",null,"삭제",-1),rs=[as],ls=["onClick"],us=Object(c["g"])("p",null,"설정",-1),ds=[us];function ps(e,t,n,o,s,i){var a=this,r=Object(c["y"])("ConfirmModal"),l=Object(c["y"])("EpisodeModal"),u=Object(c["y"])("InputModal");return Object(c["t"])(),Object(c["f"])(c["a"],null,[Object(c["j"])(r,{ref:"confirmModal"},null,512),Object(c["j"])(l,{ref:"episodeModal"},null,512),Object(c["j"])(u,{ref:"inputModal",onAddEp:i.addEp},null,8,["onAddEp"]),Object(c["g"])("div",Yo,[Object(c["g"])("div",Wo,[Xo,Object(c["g"])("div",qo,[Object(c["g"])("button",{onClick:t[0]||(t[0]=function(e){return i.addEpisode()})},"추가"),Object(c["g"])("button",{onClick:t[1]||(t[1]=function(e){return a.delMode=!a.delMode})},[s.delMode?(Object(c["t"])(),Object(c["f"])("span",Qo,"취소")):(Object(c["t"])(),Object(c["f"])("span",Zo,"삭제"))])])]),Object(c["g"])("div",es,[(Object(c["t"])(!0),Object(c["f"])(c["a"],null,Object(c["x"])(s.epList,(function(e,t){return Object(c["t"])(),Object(c["f"])("div",{key:t},[Object(c["g"])("div",{class:Object(c["p"])([{VSEpic_el:n.epNum!=e.ep},{VSEpic_el_select:n.epNum==e.ep}])},[Object(c["g"])("div",{class:"VSEpic_Index",onClick:function(t){return a.$emit("sendEp",e)}},[Object(c["g"])("p",null,Object(c["A"])(t+1),1)],8,ts),Object(c["g"])("div",{class:"VSEpic_Title",onClick:function(t){return a.$emit("sendEp",e)}},[Object(c["g"])("p",null,Object(c["A"])(e.title),1)],8,ns),Object(c["g"])("div",{class:"VSEpic_RecentDate",onClick:function(t){return a.$emit("sendEp",e)}},ss,8,cs),1==s.delMode?(Object(c["t"])(),Object(c["f"])("div",{key:0,class:"VSEpic_destroy",onClick:function(t){return i.delEp(e)}},rs,8,is)):Object(c["e"])("",!0),0==s.delMode?(Object(c["t"])(),Object(c["f"])("div",{key:1,class:"VSEpic_Status",onClick:function(t){return i.epModalOn(e)}},ds,8,ls)):Object(c["e"])("",!0)],2)])})),128))])])],64)}n("e9c4");var bs={key:0},gs=Object(c["g"])("div",{class:"modal_opacity"},null,-1),js={class:"EPmodal_frame"},fs={class:"EPmodal_inner"},Os=Object(c["g"])("p",{class:"EPmodal_title"},"에피소드 정보 관리",-1),ms={class:"EPmodal_EpsiodeName_frame"},hs=Object(c["g"])("p",{class:"EPmodal_EPtitle"},"제목",-1),vs={class:"EPmodal_exportSetting"},Ss=Object(c["g"])("p",{class:"EPmodal_ex_title"},"스토어 출품 설정",-1),ks={key:0,class:"EPmodal_momodal"},_s={class:"EPmodal_ex_title"},Cs={class:"EPmodal_functions"};function xs(e,t,n,o,s,i){var a=this;return s.EPModalState?(Object(c["t"])(),Object(c["f"])("div",bs,[gs,Object(c["g"])("div",js,[Object(c["g"])("div",fs,[Os,Object(c["g"])("div",ms,[hs,Object(c["H"])(Object(c["g"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return s.title=e})},null,512),[[c["E"],s.title]])]),Object(c["g"])("div",vs,[Ss,Object(c["g"])("button",{class:"EPmodal_epicExport",onClick:t[1]||(t[1]=function(e){return a.releaseState=!0})},"이 에피소드 발행")]),s.releaseState?(Object(c["t"])(),Object(c["f"])("div",ks,[Object(c["g"])("p",_s,"새로운 회차 [ "+Object(c["A"])(this.title)+" ]을(를) 스토어에 발행하시겠습니까?",1),Object(c["g"])("button",{onClick:t[2]||(t[2]=function(e){return i.releaseEP()})},"발행하기"),Object(c["g"])("button",{onClick:t[3]||(t[3]=function(e){return a.releaseState=!1})},"취소")])):Object(c["e"])("",!0),Object(c["g"])("div",Cs,[Object(c["g"])("button",{class:"EPmodal_saveInfo",onClick:t[4]||(t[4]=function(e){return i.epTitleSave()})},"저장"),Object(c["g"])("button",{class:"EPmodal_cancelInfo",onClick:t[5]||(t[5]=function(e){return i.modalClose()})},"취소")])])])])):Object(c["e"])("",!0)}var ys=n("4a9d"),Ms=new ys.S3({region:"ap-northeast-2",accessKeyId:"AKIARKU2Y4IXVCR266PO",secretAccessKey:"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"}),Ns={name:"FileMoveModal",data:function(){return{EPModalState:!1,modalSize:"",pjCode:"",ep:null,releaseState:!1,title:null}},methods:{modalClose:function(){this.EPModalState=!1},show:function(e){this.EPModalState=!0,this.ep=e,this.pjCode=e.id,this.title=e.title,console.log(this.ep)},epTitleSave:function(){var e=this;return Object(xt["a"])(regeneratorRuntime.mark((function t(){var n,c,o,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.ep.title=e.title,n=JSON.stringify(e.ep),c="ep".concat(e.ep.ep,".json"),o={type:"text/plain"},s=new File([n],c,o),i={Bucket:"vsnovel",Key:"Project/PJ".concat(e.pjCode,"/dev/")+s.name,Body:s},t.next=8,Ms.upload(i).on("httpUploadProgress",(function(e){return parseInt(100*e.loaded/e.total)+"%"})).send((function(t,n){return t?(console.log("파일 업로드 실패"),console.error(t),"err"):(console.log("파일 업로드 성공",n),e.releaseState=!1,e.modalClose(),"ok")}));case 8:case"end":return t.stop()}}),t)})))()},releaseEP:function(){var e=this;return Object(xt["a"])(regeneratorRuntime.mark((function t(){var n,c,o,s,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:p.post("/engine/pj/findPjStore",{pjCode:e.pjCode}).then((function(t){if("notExist"==t.data.msg){var n={pjCode:e.pjCode,novelTitle:t.data.novelTitle,novelSynopsis:t.data.novelSynopsis};p.post("/engine/pj/addNewNovel",n).then((function(t){"err"==t.data?console.log("스토어 최초 노벨 등록 실패"):console.log("프로젝트 코드 : ".concat(e.pjCode," 스토어 등록 완료"))}))}else p.post("/engine/pj/releaseDateUp",{pjCode:e.pjCode}).then((function(e){"err"==e.data?console.log("소설 회차 갱신일 업데이트 실패"):console.log("소설 회차 갱신일 업데이트 완료")}))})),e.ep.title=e.title,n=JSON.stringify(e.ep),c="ep".concat(e.ep.ep,".json"),o={type:"text/plain"},s=new File([n],c,o),i=[{Bucket:"vsnovel",Key:"Project/PJ".concat(e.pjCode,"/episode/")+s.name,Body:s},{Bucket:"vsnovel",Key:"Project/PJ".concat(e.pjCode,"/dev/")+s.name,Body:s}],a=0;case 8:if(!(a<i.length)){t.next=14;break}return t.next=11,Ms.upload(i[a]).on("httpUploadProgress",(function(e){return parseInt(100*e.loaded/e.total)+"%"})).send((function(e,t){return e?(console.log("파일 업로드 실패"),console.error(e),"err"):(console.log("파일 업로드 성공",t),"ok")}));case 11:a++,t.next=8;break;case 14:e.releaseState=!1,e.modalClose(),e.$store.commit("gModalOn",{size:"normal",msg:"새로운 회차가 스토어에 발행되었습니다."});case 17:case"end":return t.stop()}}),t)})))()}}};n("4d6d");const Vs=S()(Ns,[["render",xs]]);var Ps=Vs,ws=n("4a9d"),Es=new ws.S3({region:"ap-northeast-2",accessKeyId:"AKIARKU2Y4IXVCR266PO",secretAccessKey:"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"}),Rs={name:"V_side_episode",props:{pjCode:String,epNum:Number},components:{ConfirmModal:wn,EpisodeModal:Ps,InputModal:Cc},created:function(){this.delMode=!1,this.getEpList()},data:function(){return{delMode:!1,epList:[]}},methods:{epModalOn:function(e){this.$refs.episodeModal.show(e)},getEpList:function(){var e=this;return Object(xt["a"])(regeneratorRuntime.mark((function t(){var n,c,o,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.epList=null,e.epList=[],t.next=4,Dc.a.getEpList("Project/PJ".concat(e.pjCode,"/dev/"));case 4:n=t.sent,c=0;case 6:if(!(c<n.length)){t.next=20;break}if("json"!=n[c].ex){t.next=17;break}return t.next=10,Dc.a.getVN(n[c].key);case 10:return o=t.sent,s=new TextEncoder("utf-8").encode(o),i=(new TextDecoder).decode(s),t.next=15,JSON.parse(i);case 15:i=t.sent,e.epList.push(i);case 17:c++,t.next=6;break;case 20:case"end":return t.stop()}}),t)})))()},addEpisode:function(){this.$refs.inputModal.show({msg:"새로운 EP의 이름을 설정해주세요",size:"normal",type:"ep"})},addEp:function(e){var t=this;return Object(xt["a"])(regeneratorRuntime.mark((function n(){var c,o,s,i,a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log(e),console.log("Work"),n.next=4,p.post("/engine/pj/epUp",{pjCode:t.pjCode});case 4:return c=n.sent,c=c.data.rows[0].PROJ_NEXTEP,o=JSON.stringify({id:t.pjCode,title:e,ep:c,img:"",color:"default",nameShape:"default",shape:"default",font:"default",plotList:[{plotName:"시작 플롯",nextPlot:0,pages:[{pageName:"일반 페이지",type:"n",bg:"",bgm:"",effect:"",name:"이름",text:"대화 및 내용",img:"",select:[{use:!0,text:"1번 선택지",plot:0,index:0},{use:!0,text:"2번 선택지",plot:0,index:0},{use:!0,text:"3번 선택지",plot:0,index:0}]}]}]}),s="ep".concat(c,".json"),i={type:"text/plain"},a=new File([o],s,i),r={Bucket:"vsnovel",Key:"Project/PJ".concat(t.pjCode,"/dev/")+a.name,Body:a},n.next=13,Es.upload(r).on("httpUploadProgress",(function(e){return t.percent=parseInt(100*e.loaded/e.total)+"%","100%"==t.percent&&setTimeout((function(){return t.percent=0}),3e3),parseInt(100*e.loaded/e.total)+"%"})).send((function(e,n){return e?(console.log("파일 업로드 실패"),console.error(e),"err"):(console.log("파일 업로드 성공",n),t.getEpList(),"ok")}));case 13:case"end":return n.stop()}}),n)})))()},delEp:function(e){var t=this;return Object(xt["a"])(regeneratorRuntime.mark((function n(){var c,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$refs.confirmModal.show({msg:"에피소드 [".concat(e.title,"]를 삭제하시겠습니까?"),size:"normal",btn1:"확인",btn2:"취소"});case 2:if(c=n.sent,1!=c){n.next=14;break}return n.next=6,Dc.a.deleteFile("Project/PJ".concat(t.pjCode,"/dev/ep").concat(e.ep,".json"));case 6:if(o=n.sent,"ok"!=o){n.next=13;break}return n.next=10,t.getEpList();case 10:e.ep==t.epNum&&t.$emit("sendEp",null),n.next=14;break;case 13:console.error("파일 삭제 실패");case 14:case"end":return n.stop()}}),n)})))()}}};n("60a2");const Bs=S()(Rs,[["render",ps]]);var Ts=Bs,Ls={name:"SideBar",data:function(){return{pjCode:null}},components:{VsideCoop:Nt,VsideResource:Kc,VsideSetting:mo,VsideEpisode:Ts,SideMainScreen:Go},props:{main:Boolean,side:Boolean,sideBarStatus:String,epNum:Number},methods:{sideBarClick:function(){"N"!=this.$store.state.sideMenuState&&(0==this.$store.state.sideBar?"Main"==this.sideBarStatus?(this.$store.commit("sideMenuOnMain"),this.$store.commit("sideAnimationFixed")):(this.$store.commit("sideMenuOn"),this.$store.commit("sideAnimationFixed")):"Main"==this.sideBarStatus?(this.$store.commit("sideMenuOffMain"),this.$store.commit("sideAnimationFixed")):(this.$store.commit("sideMenuOff"),this.$store.commit("sideAnimationFixed")))},send:function(e){console.log(e),this.$emit("send",e)},sendEp:function(e){this.$emit("sendEp",e)}},watch:{$route:function(){this.pjCode=this.$route.params.pjCode},sideBarStatus:function(e,t){console.log(t,"->",e)}}};n("61f4");const Is=S()(Ls,[["render",be]]);var $s=Is,As={key:0,class:"Tutorial_View"},Ds={key:0,class:"Tutorial_inner"},Fs={key:0,class:"Tutorial_opacity"},Us={key:1,class:"Tutorial_opacity_low"},Ks={class:"Tutorial_Content"},Js={key:0,class:"WelcomeMessage"},zs=Object(c["g"])("img",{class:"VSNE_first_LOGO",src:vo.a},null,-1),Hs=Object(c["g"])("span",{class:"VSNE_first_MSG"},"Visual Studio Novel Engine에 오신것을 환영합니다!",-1),Gs={key:1,class:"WelcomeMessage"},Ys=Object(c["g"])("span",{class:"VSNE_second_MSG_title"}," 메인화면 가이드",-1),Ws=Object(c["g"])("span",{class:"VSNE_second_MSG"},"기본적인 사용방법을 알아봅시다",-1),Xs=[Ys,Ws],qs={key:2,class:"Tutorials"},Qs={key:0},Zs=Object(c["h"])('<div class="TutorialBox_1"><div class="TutorialBox_text"> 새 프로젝트 생성 </div></div><div class="TutorialBox_2"><div class="TutorialBox_text"> 프로젝트 목록 </div></div><div class="TutorialBox_3"><div class="TutorialBox_text"> 사이드바 </div></div><div class="TutorialBox_4"><div class="TutorialBox_text"> 최신 프로젝트 알림 및 로그인 정보 </div></div>',4),ei=[Zs],ti={key:1,class:"WelcomeMessage"},ni=Object(c["g"])("span",{class:"VSNE_second_MSG_title"},"Let's Try!",-1),ci=Object(c["g"])("span",{class:"VSNE_second_MSG"},"직접 프로젝트를 만들고 제작해봅시다!",-1),oi=[ni,ci],si={key:1,class:"Tutorial_inner"},ii={key:0,class:"Tutorial_opacity"},ai={key:1,class:"Tutorial_opacity_low"},ri={class:"Tutorial_Content"},li={key:0,class:"WelcomeMessage"},ui=Object(c["g"])("span",{class:"VSNE_second_MSG_title"}," 메인화면 가이드",-1),di=Object(c["g"])("span",{class:"VSNE_second_MSG"},"기본적인 사용방법을 알아봅시다",-1),pi=[ui,di],bi={key:1,class:"Tutorials"},gi={key:0},ji=Object(c["h"])('<div class="TutorialBox_1"><div class="TutorialBox_text"> 새 프로젝트 생성 </div></div><div class="TutorialBox_2"><div class="TutorialBox_text"> 프로젝트 목록 </div></div><div class="TutorialBox_3"><div class="TutorialBox_text"> 사이드바 </div></div><div class="TutorialBox_4"><div class="TutorialBox_text"> 최신 프로젝트 알림 및 로그인 정보 </div></div>',4),fi=[ji],Oi={key:1,class:"WelcomeMessage"},mi=Object(c["g"])("span",{class:"VSNE_second_MSG_title"},"Let's Try!",-1),hi=Object(c["g"])("span",{class:"VSNE_second_MSG"},"직접 프로젝트를 만들고 제작해봅시다!",-1),vi=[mi,hi];function Si(e,t,n,o,s,i){return n.tutorialState?(Object(c["t"])(),Object(c["f"])("div",As,["index"==n.tutorialType?(Object(c["t"])(),Object(c["f"])("div",Ds,[1==s.opacity_power?(Object(c["t"])(),Object(c["f"])("div",Fs)):Object(c["e"])("",!0),0==s.opacity_power?(Object(c["t"])(),Object(c["f"])("div",Us)):Object(c["e"])("",!0),Object(c["g"])("div",Ks,["1"==s.isIntro?(Object(c["t"])(),Object(c["f"])("div",Js,[zs,Hs,Object(c["g"])("button",{class:"VSNE_first_nextBtn",onClick:t[0]||(t[0]=function(e){return i.introOpen()})},"다음")])):Object(c["e"])("",!0),"2"==s.isIntro?(Object(c["t"])(),Object(c["f"])("div",Gs,Xs)):Object(c["e"])("",!0),"3"==s.isIntro?(Object(c["t"])(),Object(c["f"])("div",qs,[0==s.introStep?(Object(c["t"])(),Object(c["f"])("div",Qs,ei)):Object(c["e"])("",!0),2==s.introStep?(Object(c["t"])(),Object(c["f"])("div",ti,oi)):Object(c["e"])("",!0),Object(c["g"])("button",{class:"introStep_Btn",onClick:t[1]||(t[1]=function(e){return i.btn_event()})},"다음")])):Object(c["e"])("",!0),"3"==s.isIntro?(Object(c["t"])(),Object(c["f"])("div",{key:3,class:"Tutorial_Close_Btn",onClick:t[2]||(t[2]=function(e){return i.tutorialClose()})},"다시 보지않기")):Object(c["e"])("",!0)])])):Object(c["e"])("",!0),"dev"==n.tutorialType?(Object(c["t"])(),Object(c["f"])("div",si,[1==s.opacity_power?(Object(c["t"])(),Object(c["f"])("div",ii)):Object(c["e"])("",!0),0==s.opacity_power?(Object(c["t"])(),Object(c["f"])("div",ai)):Object(c["e"])("",!0),Object(c["g"])("div",ri,["4"==s.isIntro?(Object(c["t"])(),Object(c["f"])("div",li,pi)):Object(c["e"])("",!0),"5"==s.isIntro?(Object(c["t"])(),Object(c["f"])("div",bi,[0==s.introStep?(Object(c["t"])(),Object(c["f"])("div",gi,fi)):Object(c["e"])("",!0),1==s.introStep?(Object(c["t"])(),Object(c["f"])("div",Oi,vi)):Object(c["e"])("",!0),Object(c["g"])("button",{class:"introStep_Btn",onClick:t[3]||(t[3]=function(e){return i.btn_event()})},"다음")])):Object(c["e"])("",!0),"3"==s.isIntro?(Object(c["t"])(),Object(c["f"])("div",{key:2,class:"Tutorial_Close_Btn",onClick:t[4]||(t[4]=function(e){return i.tutorialClose()})},"다시 보지않기")):Object(c["e"])("",!0)])])):Object(c["e"])("",!0)])):Object(c["e"])("",!0)}var ki={name:"E_TutorialGuide",props:{sideMenuState:String,tutorialState:Boolean,tutorialType:String},data:function(){return{isIntro:"1",opacity_power:!0,introStep:0}},created:function(){},methods:{btn_event:function(){switch(console.log(this.introStep),this.introStep){case 0:this.introStep++,this.$store.commit("sideMenuOnMain");break;case 1:this.introStep++,this.opacity_power=!0;break;default:this.$store.commit("tutorialOff"),this.$store.commit("sideMenuOffMain"),this.introStep=0,this.isIntro="1"}},tutorialClose:function(){var e=this;p.get("/engine/user/tutorialDisable").then((function(t){"err"==t.data?console.log("유저 튜토리얼 체크 여부 변경 실패"):e.$store.commit("tutorialOff")}))},introOpen:function(){var e=this;this.isIntro="2",setTimeout((function(){e.isIntro="3",e.opacity_power=!1}),2e3)}}};n("b958"),n("36d1");const _i=S()(ki,[["render",Si]]);var Ci=_i,xi={name:"App",created:function(){this.$store.commit("sideMenuOffMain")},components:{Spinner:_,GlobalModal:E,MainBar:se,SideBar:$s,TutorialGuide:Ci},data:function(){return{sideBarStatus:"Main",mainBar:!1,resource:void 0,ep:null,epNum:null}},methods:{logout:function(){var e=this;p.get("/engine/auth/logout").then((function(t){"ok"==t.data?(e.$store.commit("userLogin",null),e.$router.push("/")):alert(t.data)})).catch((function(e){console.error("Logout : Error\n"+e)}))},send:function(e){this.resource=e,console.log(e)},sendEp:function(e){null!=e?(this.ep=e.ep,this.epNum=e.ep):(this.ep=null,this.epNum=null)}},watch:{$route:function(){"/"==this.$route.fullPath||"/createNewPj"==this.$route.fullPath?(this.mainBar=!1,this.$store.commit("sideMenuOffMain"),this.sideBarStatus="Main"):(this.sideBarStatus="Another",this.$store.commit("sideMenuOff"),this.mainBar=!0)}}};n("73ef");const yi=S()(xi,[["render",o]]);var Mi=yi,Ni=(n("7db0"),n("2ca0"),n("6c02")),Vi=n("4e0c"),Pi=n.n(Vi),wi=n("b0ac"),Ei=n.n(wi),Ri={class:Object(c["p"])({enginebackground:!0})},Bi=Object(c["g"])("div",{class:"header"},[Object(c["g"])("img",{class:"header_icon",src:vo.a}),Object(c["g"])("span",{class:"header_title"},"VSN Engine")],-1),Ti={class:"section"},Li={class:"newpj_part"},Ii=Object(c["g"])("div",{class:"newpj_icon"},[Object(c["g"])("img",{class:"newpj_icon_plus",src:Pi.a})],-1),$i=Object(c["g"])("div",null,[Object(c["g"])("span",{class:"newpj_label"},"New Project")],-1),Ai={class:"newpj_create_frame"},Di=Object(c["g"])("span",null,"새로운 프로젝트 생성하기",-1),Fi=[Di],Ui={class:"loadpj_part"},Ki=Object(c["g"])("div",{class:"loadpj_icon"},[Object(c["g"])("img",{class:"loadpj_icon_plus",src:Ei.a})],-1),Ji=Object(c["g"])("div",null,[Object(c["g"])("span",{class:"loadpj_label"},"Load Project")],-1),zi={class:"loadpj_list_box"},Hi={key:0,class:"loadpj_list_Loading"},Gi=Object(c["g"])("p",null,"프로젝트 목록을 불러오는 중입니다.",-1),Yi=[Gi],Wi={key:1},Xi=["onClick"],qi={class:"loadpj_list_tr_code"},Qi={class:"loadpj_list_tr_title"},Zi={key:0,class:"loadpj_list_tr_status"},ea={key:1,class:"loadpj_list_tr_status"},ta={key:2,class:"loadpj_list_tr_status"},na={class:"loadpj_list_tr_retouchdate"},ca={key:3,class:"loadpj_list_tr_teamtype_normal"},oa={key:4,class:"loadpj_list_tr_teamtype_coop"},sa={key:2,class:"loadpj_list_notfound"},ia=Object(c["g"])("p",null,"프로젝트를 생성해주세요!",-1),aa=[ia];function ra(e,t,n,o,s,i){var a,r=this;return Object(c["t"])(),Object(c["f"])("div",{class:Object(c["p"])((a={},Object(C["a"])(a,"".concat(this.$store.state.sideBarFixed),!0),Object(C["a"])(a,"".concat(this.$store.state.sideBarMove),this.$store.state.sideAnimationState),a))},[Object(c["g"])("div",Ri,[Bi,Object(c["g"])("div",Ti,[Object(c["g"])("div",Li,[Ii,$i,Object(c["g"])("div",Ai,[Object(c["g"])("div",{onClick:t[0]||(t[0]=function(e){return r.$router.push("/createNewPj")})},Fi)])]),Object(c["g"])("div",Ui,[Ki,Ji,Object(c["g"])("div",zi,[e.$store.state.LoadingStatus?(Object(c["t"])(),Object(c["f"])("div",Hi,Yi)):0!=s.pjList.length?(Object(c["t"])(),Object(c["f"])("div",Wi,[(Object(c["t"])(!0),Object(c["f"])(c["a"],null,Object(c["x"])(s.pjList,(function(e){return Object(c["t"])(),Object(c["f"])("div",{class:"loadpj_list_tr",key:e.PROJ_CODE,onClick:function(t){return i.goToDevPage(e.PROJ_CODE)}},[Object(c["g"])("p",qi,Object(c["A"])(e.PROJ_CODE),1),Object(c["g"])("p",Qi,Object(c["A"])(e.PROJ_TITLE),1),"D"==e.PROJ_STATUS?(Object(c["t"])(),Object(c["f"])("p",Zi,"개발")):"S"==e.PROJ_STATUS?(Object(c["t"])(),Object(c["f"])("p",ea,"배포")):(Object(c["t"])(),Object(c["f"])("p",ta,"중단")),Object(c["g"])("p",na,Object(c["A"])(e.PROJ_RETOUCHDATE),1),"N"==e.PROJ_COOPERATION?(Object(c["t"])(),Object(c["f"])("p",ca,"개인")):(Object(c["t"])(),Object(c["f"])("p",oa,"협업"))],8,Xi)})),128))])):(Object(c["t"])(),Object(c["f"])("div",sa,aa))])])])])],2)}var la={name:"Index",created:function(){var e=this;this.$store.commit("cngSideMenu","M"),p.get("/engine/auth/loginCheck").then(function(){var t=Object(xt["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""==n.data){t.next=8;break}return e.$store.commit("userLogin",{userId:n.data.USER_ID,nickName:n.data.USER_NICKNAME}),console.log("currentUser : ".concat(e.$store.state.userNickname)),t.next=5,e.getPjList();case 5:e.userTutorialCheck(),t.next=9;break;case 8:e.$router.push("/signin");case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.error(e)}))},props:{main:Boolean,side:Boolean},data:function(){return{pjList:[],noticeList:[],alramStatus:!1,existNotice:"off",condition:"mainRouterViewLeft",content:"Hello, I'm Sample Text",txt:"",count:0}},watch:{side:function(){this.side?this.condition="mainRouterViewRight":this.condition="mainRouterViewLeft"}},methods:{userTutorialCheck:function(){var e=this;p.get("/engine/user/tutorialCheck").then((function(t){"err"==t.data?console.log("유저 튜토리얼 확인 유무 불러오기 실페"):(console.log(t.data),"N"==t.data.USER_EHELP?e.$store.commit("tutorialOn","index"):e.$store.commit("tutorialOff"))}))},logout:function(){var e=this;p.get("/engine/auth/logout").then((function(t){"ok"==t.data?(e.$store.commit("userLogin",null),e.$router.push("/signin")):(console.log(t),alert(t.data))})).catch((function(e){console.error(e)}))},goToDevPage:function(e){this.$router.push("/devPage/".concat(e))},getPjList:function(){var e=this;p.get("/engine/pj/getList").then((function(t){"empty"!=t.data&&(e.pjList=t.data)})).catch((function(e){console.error(e)}))}}};n("a67d");const ua=S()(la,[["render",ra]]);var da=ua,pa=n("4e9a"),ba=n.n(pa),ga=n("ed91"),ja=n.n(ga),fa={class:"FullView"},Oa=Object(c["g"])("img",{class:"background_img",src:ba.a,alt:""},null,-1),ma={class:"sign_box"},ha=Object(c["g"])("div",{class:"sign_title"},[Object(c["g"])("span",null,"LOGIN")],-1),va={class:"sign_inner_box"},Sa={class:"id_pw_form"},ka={class:"insert_id"},_a=Object(c["g"])("span",{class:"id_label"},"ID",-1),Ca=Object(c["i"])(),xa={class:"insert_pw"},ya=Object(c["g"])("span",{class:"pw_label"},"PW",-1),Ma=Object(c["i"])(),Na={class:"logins"},Va=Object(c["g"])("div",{class:"kakao_yellow"},[Object(c["g"])("span",{class:"kakao_label"},"KAKAO")],-1),Pa=Object(c["g"])("div",{class:"google_red"},[Object(c["g"])("span",{class:"google_label"},"GOOGLE")],-1),wa={class:"login_blue"},Ea=Object(c["h"])('<div class="logins_deco"><div class="logins_deco_social"><span class="social_label">social</span></div><div class="logins_deco_platform"><span class="platform_label">platform</span></div></div><div class="signupNpasswd"><span class="where_my_account">로그인에 문제가 있나요?</span></div><div class="partion_block"></div><div class="adver_section"><img class="adver_img" src="'+ja.a+'" alt=""><div class="adver_info"><span>123</span></div></div>',4);function Ra(e,t,n,o,s,i){return Object(c["t"])(),Object(c["f"])("div",fa,[Object(c["g"])("div",null,[Oa,Object(c["g"])("div",ma,[ha,Object(c["g"])("div",va,[Object(c["g"])("div",Sa,[Object(c["g"])("div",ka,[_a,Ca,Object(c["H"])(Object(c["g"])("input",{class:"id_input_box",type:"textarea","onUpdate:modelValue":t[0]||(t[0]=function(e){return s.id=e})},null,512),[[c["E"],s.id]])]),Object(c["g"])("div",xa,[ya,Ma,Object(c["H"])(Object(c["g"])("input",{class:"pw_input_box",type:"password","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.pw=e})},null,512),[[c["E"],s.pw]])])]),Object(c["g"])("div",Na,[Va,Pa,Object(c["g"])("div",wa,[Object(c["g"])("span",{class:"login_label",onClick:t[2]||(t[2]=function(e){return i.login()})},"로그인")])]),Ea])])])])}var Ba={name:"Login",data:function(){return{id:"",pw:""}},methods:{login:function(){var e=this,t={id:this.id,pw:this.pw};p.post("/engine/auth/login",t).then((function(t){"ok"==t.data?(e.$store.commit("gModalOn",{msg:"로그인되었습니다.",size:"small"}),e.$router.push("/")):e.$store.commit("gModalOn",{msg:t.data,size:"normal"})})).catch((function(e){console.error(e)}))}}};n("980f");const Ta=S()(Ba,[["render",Ra]]);var La=Ta,Ia={class:"RouterView"};function $a(e,t,n,o,s,i){var a=Object(c["y"])("InputPj");return Object(c["t"])(),Object(c["f"])("div",Ia,[Object(c["g"])("div",null,[Object(c["j"])(a,{type:"V"})])])}var Aa={class:"create_pj_page_frame"},Da=Object(c["g"])("span",{class:"pj_info_type"},"프로젝트 정보를 입력하세요.",-1),Fa={class:"create_pj_frame"},Ua={class:"title_input_frame"},Ka=Object(c["g"])("span",{class:"label_center"},"제목",-1),Ja={class:"synopsis_input_frame"},za=Object(c["g"])("span",{class:"label_center"},"시놉시스",-1),Ha={class:"create_button_frame"},Ga=Object(c["g"])("span",null,"생성",-1),Ya=[Ga],Wa=Object(c["g"])("span",null,"취소",-1),Xa=[Wa];function qa(e,t,n,o,s,i){var a;return Object(c["t"])(),Object(c["f"])("div",{class:Object(c["p"])((a={},Object(C["a"])(a,"".concat(this.$store.state.sideBarFixed),!0),Object(C["a"])(a,"".concat(this.$store.state.sideBarMove),!0),a))},[Object(c["g"])("div",Aa,[Da,Object(c["g"])("div",Fa,[Object(c["g"])("div",Ua,[Ka,Object(c["H"])(Object(c["g"])("input",{class:"title_input",type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return s.title=e})},null,512),[[c["E"],s.title]])]),Object(c["g"])("div",Ja,[za,Object(c["H"])(Object(c["g"])("textarea",{class:"synopsis_input","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.synopsis=e})},null,512),[[c["E"],s.synopsis]])]),Object(c["g"])("div",Ha,[Object(c["g"])("div",{class:"create_button",onClick:t[2]||(t[2]=function(e){return i.createPj()})},Ya),Object(c["g"])("div",{class:"cancel_button",onClick:t[3]||(t[3]=function(t){return e.$router.push("/")})},Xa)])])])],2)}var Qa={name:"InputPj",data:function(){return{title:"",synopsis:""}},methods:{createPj:function(){var e=this,t={type:this.type,title:this.title,synopsis:this.synopsis};p.post("/engine/pj/createNewPj",t).then(function(){var t=Object(xt["a"])(regeneratorRuntime.mark((function t(n){var c,o,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("err"==n.data){t.next=11;break}return c=JSON.stringify({id:n.data.pjCode,title:"1화",ep:1,color:"default",nameShape:"default",shape:"default",font:"default",plotList:[{plotName:"시작 플롯",nextPlot:0,pages:[{pageName:"일반 페이지",type:"n",bg:"",bgm:"",effect:"",name:"이름",text:"대화 및 내용",img:"",select:[{use:!0,text:"1번 선택지",plot:0,index:0},{use:!0,text:"2번 선택지",plot:0,index:0},{use:!0,text:"3번 선택지",plot:0,index:0}]}]}]}),o="ep1.json",s={type:"text/plain"},i=new File([c],o,s),t.next=7,Dc.a.uploadFile("Project/PJ".concat(n.data.pjCode,"/dev/"),i);case 7:e.$store.commit("gModalOn",{msg:"새로운 프로젝트가 생성됐습니다.",size:"normal"}),e.$router.push("/"),t.next=12;break;case 11:e.$store.commit("gModalOn",{msg:n.data,size:"normal"});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.log("CreatePj : Error\n"+e)}))}},props:{type:String}};n("ee8f");const Za=S()(Qa,[["render",qa]]);var er=Za,tr={name:"CreateNewPj",data:function(){return{}},methods:{},components:{InputPj:er}};const nr=S()(tr,[["render",$a]]);var cr=nr,or={class:"DevPageTemp"},sr={key:0},ir={key:1,class:"NotFoundEP"},ar=Object(c["g"])("span",null,"에피소드를 선택하세요",-1),rr=[ar],lr={key:2,class:"NotFoundEPArrow"},ur=Object(c["g"])("span",null,"❮",-1),dr=[ur];function pr(e,t,n,o,s,i){var a,r=Object(c["y"])("EngineInner");return Object(c["t"])(),Object(c["f"])("div",{class:Object(c["p"])((a={},Object(C["a"])(a,"".concat(this.$store.state.sideBarFixed),!0),Object(C["a"])(a,"".concat(this.$store.state.sideBarMove),this.$store.state.sideAnimationState),a))},[Object(c["g"])("div",or,[null!=n.ep?(Object(c["t"])(),Object(c["f"])("div",sr,[Object(c["j"])(r,{resource:n.resource,ep:n.ep},null,8,["resource","ep"])])):(Object(c["t"])(),Object(c["f"])("div",ir,rr)),null!=n.ep||"E"==this.$store.state.sideMenuState&&this.$store.state.sideBar?Object(c["e"])("",!0):(Object(c["t"])(),Object(c["f"])("div",lr,dr))])],2)}var br={class:"Venginebackground"},gr={class:"VEngineCanvas"},jr={class:"VPlotController"},fr={class:"VPCBackground"},Or={class:"VpcTopToolbar"},mr={class:"VpcToolPosition"},hr={key:0,class:"VpcInner"},vr={class:"VpcBlockLabel"},Sr=["onClick"],kr=["onClick"],_r=Object(c["g"])("img",{src:Bt.a},null,-1),Cr=[_r],xr=["onClick"],yr=Object(c["g"])("img",{src:Et.a},null,-1),Mr=[yr],Nr={class:"VpcBlockInner"},Vr=["onClick"],Pr={key:0,class:"VpcPageNormalIndexSelected"},wr={key:1,class:"VpcPageNormalIndex"},Er={class:"VpcPageTitle"},Rr={key:2},Br=["onClick"],Tr=Object(c["g"])("img",{src:Bt.a},null,-1),Lr=[Tr],Ir=["onClick"],$r=Object(c["g"])("img",{src:Et.a},null,-1),Ar=[$r],Dr=["onClick"],Fr={key:0,class:"VpcPageSelectIndexSelected"},Ur={key:1,class:"VpcPageSelectIndex"},Kr={class:"VpcPageSelectTitle"},Jr={key:2},zr=["onClick"],Hr=Object(c["g"])("img",{src:Bt.a},null,-1),Gr=[Hr],Yr=["onClick"],Wr=Object(c["g"])("img",{src:Et.a},null,-1),Xr=[Wr],qr={class:"VpcPageSelTitle"},Qr={class:"VpcPageSelTitle_Number"},Zr={class:"VpcPageSelectPath"},el={class:"VpcPageSelOrigin"},tl=["onChange"],nl=["value","selected"],cl=Object(c["g"])("div",{class:"VpcPageSelectArrow"},"/",-1),ol={class:"VpcPageSelChange"},sl=["onChange"],il=["selected","value"],al={class:"VpcBlockControl"},rl=["onClick"],ll=["onClick"],ul=["onClick"],dl={class:"VpcBlockEndPoint"},pl=Object(c["g"])("p",null,"다음 플롯 : ",-1),bl=["onChange"],gl=["selected","value"];function jl(e,t,n,o,s,i){var a=this,r=Object(c["y"])("ThemeModal"),l=Object(c["y"])("InputModal"),u=Object(c["y"])("EngineCanvas"),d=Object(c["y"])("Draggable");return Object(c["t"])(),Object(c["f"])(c["a"],null,[Object(c["j"])(r,{ref:"themeModal",VN:e.VN,onChangeVN:e.changeVN},null,8,["VN","onChangeVN"]),Object(c["j"])(l,{ref:"inputModal",VN:e.VN,onChangeVN:e.changeVN},null,8,["VN","onChangeVN"]),Object(c["g"])("div",br,[Object(c["g"])("div",gr,[Object(c["j"])(u,{plot:e.plot,index:e.index,VN:e.VN,status:e.status,ep:e.ep,onChangeVN:e.changeVN,onMove:e.move,onChangeStatus:e.changeStatus},null,8,["plot","index","VN","status","ep","onChangeVN","onMove","onChangeStatus"])]),Object(c["g"])("div",jr,[Object(c["g"])("div",fr,[Object(c["g"])("div",Or,[Object(c["g"])("div",mr,[Object(c["g"])("button",{onClick:t[0]||(t[0]=function(){return e.addPlotModal&&e.addPlotModal.apply(e,arguments)})},"플롯 추가"),Object(c["g"])("button",{onClick:t[1]||(t[1]=function(t){return e.tmModalOn()})},"테마 변경")])]),e.VN?(Object(c["t"])(),Object(c["f"])("div",hr,[Object(c["j"])(d,{list:e.VN.plotList,onChange:e.dragCngLog},{default:Object(c["G"])((function(){return[(Object(c["t"])(!0),Object(c["f"])(c["a"],null,Object(c["x"])(e.VN.plotList,(function(t,n){return Object(c["t"])(),Object(c["f"])("div",{class:"VpcBlock",key:n},[Object(c["g"])("div",vr,[Object(c["g"])("div",{class:"VpcBlock_Title",onClick:function(t){return e.move({plot:n,index:0})}},[Object(c["g"])("p",null,Object(c["A"])(t.plotName),1)],8,Sr),n==a.plot?(Object(c["t"])(),Object(c["f"])("button",{key:0,class:"VpcBlock_Opener",onClick:function(c){return e.changePlotName(n,t.plotName)}},Cr,8,kr)):Object(c["e"])("",!0),n==a.plot?(Object(c["t"])(),Object(c["f"])("button",{key:1,class:"VpcBlock_DeletePage",onClick:function(t){return e.deletePlot(n)}},Mr,8,xr)):Object(c["e"])("",!0)]),Object(c["g"])("div",Nr,[Object(c["j"])(d,{list:e.VN.plotList[n].pages,onChange:e.dragCngLog},{default:Object(c["G"])((function(){return[(Object(c["t"])(!0),Object(c["f"])(c["a"],null,Object(c["x"])(t.pages,(function(t,o){return Object(c["t"])(),Object(c["f"])("div",{key:o},["s"!=t.type?(Object(c["t"])(),Object(c["f"])("div",{key:0,class:"VpcPageNormal",onClick:function(t){return e.move({plot:n,index:o})}},[n==a.plot&&o==a.index?(Object(c["t"])(),Object(c["f"])("div",Pr,[Object(c["g"])("span",null,Object(c["A"])(o+1),1)])):(Object(c["t"])(),Object(c["f"])("div",wr,[Object(c["g"])("span",null,Object(c["A"])(o+1),1)])),Object(c["g"])("div",Er,[Object(c["g"])("span",null,Object(c["A"])(t.pageName),1)]),n==a.plot&&o==a.index?(Object(c["t"])(),Object(c["f"])("div",Rr,[Object(c["g"])("button",{class:"VpcPage_Opener",onClick:function(t){return e.changePageName(n,o)}},Lr,8,Br),Object(c["g"])("button",{class:"VpcPage_DeletePage",onClick:function(t){return e.deletePage(n,o)}},Ar,8,Ir)])):Object(c["e"])("",!0)],8,Vr)):Object(c["e"])("",!0),"s"==t.type?(Object(c["t"])(),Object(c["f"])("div",{key:1,class:"VpcPageSelect",onClick:function(t){return e.move({plot:n,index:o})}},[n==a.plot&&o==a.index?(Object(c["t"])(),Object(c["f"])("div",Fr,[Object(c["g"])("span",null,Object(c["A"])(o+1),1)])):(Object(c["t"])(),Object(c["f"])("div",Ur,[Object(c["g"])("span",null,Object(c["A"])(o+1),1)])),Object(c["g"])("div",Kr,[Object(c["g"])("span",null,Object(c["A"])(t.pageName),1)]),n==a.plot&&o==a.index?(Object(c["t"])(),Object(c["f"])("div",Jr,[Object(c["g"])("button",{class:"VpcPage_Opener",onClick:function(t){return e.changePageName(n,o)}},Gr,8,zr),Object(c["g"])("button",{class:"VpcPage_DeletePage",onClick:function(t){return e.deletePage(n,o)}},Xr,8,Yr)])):Object(c["e"])("",!0),(Object(c["t"])(!0),Object(c["f"])(c["a"],null,Object(c["x"])(t.select,(function(t,s){return Object(c["t"])(),Object(c["f"])("div",{class:"VpcPageSels",key:s},[Object(c["g"])("div",qr,[Object(c["g"])("span",Qr,Object(c["A"])(s+1),1)]),Object(c["g"])("div",Zr,[Object(c["g"])("div",el,[Object(c["g"])("select",{id:"plot",onChange:function(t){return e.selectOptionPlot(t,n,o,s)}},[(Object(c["t"])(!0),Object(c["f"])(c["a"],null,Object(c["x"])(e.VN.plotList,(function(n,o){return Object(c["t"])(),Object(c["f"])("option",{key:o,value:o,selected:t.plot==o},Object(c["A"])(e.VN.plotList[o].plotName),9,nl)})),128))],40,tl)]),cl,Object(c["g"])("div",ol,[Object(c["g"])("select",{id:"index",onChange:function(t){return e.selectOptionIndex(t,n,o,s)}},[(Object(c["t"])(!0),Object(c["f"])(c["a"],null,Object(c["x"])(e.returnIndex(e.VN.plotList[t.plot],n,o,s),(function(e,n){return Object(c["t"])(),Object(c["f"])("option",{key:n,selected:t.index==n+1,value:n},Object(c["A"])(n+1),9,il)})),128))],40,sl)])])])})),128))],8,Dr)):Object(c["e"])("",!0)])})),128))]})),_:2},1032,["list","onChange"]),Object(c["g"])("div",al,[Object(c["g"])("button",{onClick:function(t){return e.addPage(n,"n")}},"일반",8,rl),Object(c["g"])("button",{onClick:function(t){return e.addPage(n,"s")}},"선택",8,ll),Object(c["g"])("button",{onClick:function(t){return e.addPage(n,"e")}},"엔딩",8,ul)]),Object(c["g"])("div",dl,[pl,Object(c["g"])("select",{onChange:function(t){return e.changeNext(t,n)}},[(Object(c["t"])(!0),Object(c["f"])(c["a"],null,Object(c["x"])(e.VN.plotList,(function(t,o){return Object(c["t"])(),Object(c["f"])("option",{key:o,selected:e.VN.plotList[n].nextPlot==o,value:o},Object(c["A"])(t.plotName),9,gl)})),128))],40,bl)])])])})),128))]})),_:1},8,["list","onChange"])])):Object(c["e"])("",!0)])])])],64)}var fl=n("5c40"),Ol=n("7d42"),ml=n("72f9"),hl=n.n(ml),vl=n("78e5"),Sl=n.n(vl),kl=n("f028"),_l=n.n(kl),Cl=n("3417"),xl=n.n(Cl),yl=n("c151"),Ml=n.n(yl),Nl=n("9102"),Vl=n.n(Nl),Pl=n("0562"),wl=n.n(Pl),El=n("a2c6"),Rl=n.n(El),Bl=n("4ace"),Tl=n.n(Bl),Ll=n("c32b"),Il=n.n(Ll),$l={class:"ViewerBackground"},Al={class:"SceneBackground"},Dl=["src"],Fl={key:0,class:"SceneSelectBackground"},Ul={class:"SceneSelectFrame"},Kl={for:"s1"},Jl=Object(c["g"])("img",{src:hl.a},null,-1),zl=[Jl],Hl=Object(c["g"])("img",{src:Sl.a},null,-1),Gl=[Hl],Yl={for:"s2"},Wl=Object(c["g"])("img",{src:hl.a},null,-1),Xl=[Wl],ql=Object(c["g"])("img",{src:Sl.a},null,-1),Ql=[ql],Zl={for:"s3"},eu=Object(c["g"])("img",{src:hl.a},null,-1),tu=[eu],nu=Object(c["g"])("img",{src:Sl.a},null,-1),cu=[nu],ou={class:"SelectEditingButton"},su={key:1,class:"ScenePauseBackground"},iu=Object(c["h"])('<div class="VisualNovelLabel"><div class="VisualNovelIcon"><img src="'+Pt.a+'"></div><span class="VisualNovelName">소설 제목</span></div><div class="PauseMenusFrame"><div class="PauseMenuButtonPosition"><div class="PauseMenuButton"><span><img src="'+Bt.a+'"></span></div><div class="PauseMenuButton"><span><img src="'+D.a+'"></span></div><div class="PauseMenuButton"><span><img src="'+_l.a+'"></span></div></div></div>',2),au=[iu],ru={key:2,class:"SceneSaveBackground"},lu=Object(c["g"])("span",null,"저장",-1),uu=Object(c["g"])("div",{class:"SaveSlotsFrame"},[Object(c["g"])("div",{class:"SaveSlot"}),Object(c["g"])("div",{class:"SaveSlot"}),Object(c["g"])("div",{class:"SaveSlot"})],-1),du=[lu,uu],pu={class:"ViewerNav"},bu={key:0,class:"NavItems",title:"서버 비주얼 노벨 다운로드"},gu={key:1,class:"NavItems"},ju=Object(c["g"])("img",{src:Ml.a},null,-1),fu=[ju],Ou={key:2,class:"NavItems",title:"저장"},mu={key:3,class:"NavItems"},hu=Object(c["g"])("img",{src:Ml.a},null,-1),vu=[hu],Su={key:4},ku={class:"ViewerNavRight"},_u=Object(c["g"])("img",{src:wl.a},null,-1),Cu=[_u],xu=Object(c["g"])("img",{src:Rl.a},null,-1),yu=[xu],Mu={key:3,class:"ResControl"},Nu={class:"ResControl_img"},Vu={class:"ResControl_img_thum"},Pu=["src"],wu={key:1,src:Tl.a},Eu=Object(c["g"])("div",{class:"ResControl_img_title"},"배경화면",-1),Ru={class:"ResControl_btn"},Bu=Object(c["g"])("img",{src:Et.a},null,-1),Tu=[Bu],Lu={class:"ResControl_img"},Iu={class:"ResControl_img_thum"},$u=["src"],Au={key:1,src:Tl.a},Du=Object(c["g"])("div",{class:"ResControl_img_title"},"이미지",-1),Fu={class:"ResControl_btn"},Uu=Object(c["g"])("img",{src:Et.a},null,-1),Ku=[Uu],Ju={class:"ResControl_mu"},zu=Object(c["g"])("div",{class:"ResControl_mu_thum"},[Object(c["g"])("img",{src:Il.a})],-1),Hu=Object(c["g"])("div",{class:"ResControl_mu_title"},"배경음악",-1),Gu={class:"ResControl_btn_mu"},Yu=Object(c["g"])("img",{src:Et.a},null,-1),Wu=[Yu],Xu=Object(c["g"])("img",{src:Et.a},null,-1),qu=[Xu],Qu={class:"ResControl_mu"},Zu=Object(c["g"])("div",{class:"ResControl_mu_thum"},[Object(c["g"])("img",{src:Il.a})],-1),ed=Object(c["g"])("div",{class:"ResControl_mu_title"},"효과음",-1),td={class:"ResControl_btn_mu"},nd=Object(c["g"])("img",{src:Et.a},null,-1),cd=[nd],od={class:"SceneImg"},sd=["src"],id={class:"SceneScriptFrame"},ad={class:"ScriptEditingButton"},rd={for:"name"},ld={key:0,class:"SceneSpeakerName",contenteditable:"true"},ud={id:"name"},dd={for:"text"},pd={key:0,class:"SceneScript",contenteditable:"true"},bd={key:1,class:"SceneScript"},gd={id:"text"},jd=Object(c["g"])("button",null,[Object(c["g"])("span",null,"▶")],-1),fd=[jd],Od={key:1,class:"NextScriptButton"},md=Object(c["g"])("button",null,"End",-1),hd=[md];function vd(e,t,n,o,s,i){var a=this;return Object(c["t"])(),Object(c["f"])("div",$l,[Object(c["g"])("div",Al,[""!=s.Now.bg&&void 0!=s.Now.bg?(Object(c["t"])(),Object(c["f"])("img",{key:0,src:this.currentBg},null,8,Dl)):Object(c["e"])("",!0)]),"select"==n.status?(Object(c["t"])(),Object(c["f"])("div",Fl,[Object(c["g"])("div",Ul,[Object(c["g"])("label",Kl,[s.selectEdit?(Object(c["t"])(),Object(c["f"])("div",{key:0,class:Object(c["p"])(["SelectButton",[{SShape_default:"default"==n.VN.shape},{SShape_linear:"linear"==n.VN.shape},{SColor_default:"default"==n.VN.color},{SColor_red:"red"==n.VN.color}]]),contenteditable:"true",id:"s1",ref:"cngs1"},Object(c["A"])(s.s1.text),3)):(Object(c["t"])(),Object(c["f"])("div",{key:1,class:Object(c["p"])(["SelectButton",[{SShape_default:"default"==n.VN.shape},{SShape_linear:"linear"==n.VN.shape},{SColor_default:"default"==n.VN.color},{SColor_red:"red"==n.VN.color}]]),onClick:t[0]||(t[0]=function(e){return i.select(s.s1.plot,s.s1.index)}),id:"s1"},[Object(c["g"])("p",null,Object(c["A"])(s.s1.text),1)],2))]),s.s1.use?(Object(c["t"])(),Object(c["f"])("div",{key:0,class:"SelectVisibleButton",onClick:t[1]||(t[1]=function(e){return s.s1.use=!s.s1.use})},zl)):Object(c["e"])("",!0),s.s1.use?Object(c["e"])("",!0):(Object(c["t"])(),Object(c["f"])("div",{key:1,class:"SelectVisibleButtonDisable",onClick:t[2]||(t[2]=function(e){return s.s1.use=!s.s1.use})},Gl)),Object(c["g"])("label",Yl,[s.selectEdit?(Object(c["t"])(),Object(c["f"])("div",{key:0,class:Object(c["p"])(["SelectButton",[{SShape_default:"default"==n.VN.shape},{SShape_linear:"linear"==n.VN.shape},{SColor_default:"default"==n.VN.color},{SColor_red:"red"==n.VN.color}]]),contenteditable:"true",id:"s2",ref:"cngs2"},Object(c["A"])(s.s2.text),3)):(Object(c["t"])(),Object(c["f"])("div",{key:1,class:Object(c["p"])(["SelectButton",[{SShape_default:"default"==n.VN.shape},{SShape_linear:"linear"==n.VN.shape},{SColor_default:"default"==n.VN.color},{SColor_red:"red"==n.VN.color}]]),onClick:t[3]||(t[3]=function(e){return i.select(s.s2.plot,s.s2.index)}),id:"s2"},[Object(c["g"])("p",null,Object(c["A"])(s.s2.text),1)],2))]),s.s2.use?(Object(c["t"])(),Object(c["f"])("div",{key:2,class:"SelectVisibleButton",onClick:t[4]||(t[4]=function(e){return s.s2.use=!s.s2.use})},Xl)):Object(c["e"])("",!0),s.s2.use?Object(c["e"])("",!0):(Object(c["t"])(),Object(c["f"])("div",{key:3,class:"SelectVisibleButtonDisable",onClick:t[5]||(t[5]=function(e){return s.s2.use=!s.s2.use})},Ql)),Object(c["g"])("label",Zl,[s.selectEdit?(Object(c["t"])(),Object(c["f"])("div",{key:0,class:Object(c["p"])(["SelectButton",[{SShape_default:"default"==n.VN.shape},{SShape_linear:"linear"==n.VN.shape},{SColor_default:"default"==n.VN.color},{SColor_red:"red"==n.VN.color}]]),contenteditable:"true",id:"s3",ref:"cngs3"},Object(c["A"])(s.s3.text),3)):(Object(c["t"])(),Object(c["f"])("div",{key:1,class:Object(c["p"])(["SelectButton",[{SShape_default:"default"==n.VN.shape},{SShape_linear:"linear"==n.VN.shape},{SColor_default:"default"==n.VN.color},{SColor_red:"red"==n.VN.color}]]),onClick:t[6]||(t[6]=function(e){return i.select(s.s3.plot,s.s3.index)}),id:"s3"},[Object(c["g"])("p",null,Object(c["A"])(s.s3.text),1)],2))]),s.s3.use?(Object(c["t"])(),Object(c["f"])("div",{key:4,class:"SelectVisibleButton",onClick:t[7]||(t[7]=function(e){return s.s3.use=!s.s3.use})},tu)):Object(c["e"])("",!0),s.s3.use?Object(c["e"])("",!0):(Object(c["t"])(),Object(c["f"])("div",{key:5,class:"SelectVisibleButtonDisable",onClick:t[8]||(t[8]=function(e){return s.s3.use=!s.s3.use})},cu)),Object(c["g"])("div",ou,[0==s.selectEdit?(Object(c["t"])(),Object(c["f"])("img",{key:0,src:Bt.a,onClick:t[9]||(t[9]=function(e){a.selectEdit=!0})})):(Object(c["t"])(),Object(c["f"])("img",{key:1,src:hl.a,onClick:t[10]||(t[10]=function(e){return i.saveSelect()})}))])])])):Object(c["e"])("",!0),"pause"==n.status?(Object(c["t"])(),Object(c["f"])("div",su,au)):Object(c["e"])("",!0),"save"==n.status?(Object(c["t"])(),Object(c["f"])("div",ru,du)):Object(c["e"])("",!0),Object(c["g"])("div",pu,[0==s.isDownload?(Object(c["t"])(),Object(c["f"])("div",bu,[Object(c["g"])("img",{src:xl.a,onClick:t[11]||(t[11]=function(e){return i.getVN()})})])):1==s.isDownload?(Object(c["t"])(),Object(c["f"])("div",gu,fu)):Object(c["e"])("",!0),0==s.isUpload?(Object(c["t"])(),Object(c["f"])("div",Ou,[Object(c["g"])("img",{src:Vl.a,onClick:t[12]||(t[12]=function(e){return i.uploadVN()})})])):1==s.isUpload&&"100%"==s.percent?(Object(c["t"])(),Object(c["f"])("div",mu,vu)):(Object(c["t"])(),Object(c["f"])("div",Su,Object(c["A"])(s.percent)+"% ",1))]),Object(c["g"])("div",ku,[0==s.bgmState?(Object(c["t"])(),Object(c["f"])("div",{key:0,class:"NavItems",onClick:t[13]||(t[13]=function(e){return i.bgmOn(),i.effectOn()})},Cu)):1==s.bgmState?(Object(c["t"])(),Object(c["f"])("div",{key:1,class:"NavItems",onClick:t[14]||(t[14]=function(e){return i.bgmOff(),i.effectOff()})},yu)):Object(c["e"])("",!0)]),s.resCtrl?(Object(c["t"])(),Object(c["f"])("div",Mu,[Object(c["g"])("div",Nu,[Object(c["g"])("div",Vu,[s.currentBg?(Object(c["t"])(),Object(c["f"])("img",{key:0,src:s.currentBg},null,8,Pu)):(Object(c["t"])(),Object(c["f"])("img",wu))]),Eu,Object(c["g"])("div",Ru,[Object(c["g"])("button",{onClick:t[15]||(t[15]=function(e){return i.setResource("","bg")})},Tu)])]),Object(c["g"])("div",Lu,[Object(c["g"])("div",Iu,[e.currentImage?(Object(c["t"])(),Object(c["f"])("img",{key:0,src:s.currentImg},null,8,$u)):(Object(c["t"])(),Object(c["f"])("img",Au))]),Du,Object(c["g"])("div",Fu,[Object(c["g"])("button",{onClick:t[16]||(t[16]=function(e){return i.setResource("","bg")})},Ku)])]),Object(c["g"])("div",Ju,[zu,Hu,Object(c["g"])("div",Gu,[Object(c["g"])("button",{onClick:t[17]||(t[17]=function(e){return i.setResource("","bg")})},Wu),Object(c["g"])("button",{onClick:t[18]||(t[18]=function(e){return i.setResource("none","bg")})},qu)])]),Object(c["g"])("div",Qu,[Zu,ed,Object(c["g"])("div",td,[Object(c["g"])("button",{onClick:t[19]||(t[19]=function(e){return i.setResource("","bg")})},cd)])])])):Object(c["e"])("",!0),Object(c["g"])("div",od,[""!=s.Now.img?(Object(c["t"])(),Object(c["f"])("img",{key:0,src:s.currentImg},null,8,sd)):Object(c["e"])("",!0)]),Object(c["g"])("div",id,[Object(c["g"])("div",{class:Object(c["p"])(["ScriptBackground",[{BShape_default:"default"==n.VN.shape},{BShape_linear:"linear"==n.VN.shape},{BColor_default:"default"==n.VN.color},{BColor_red:"red"==n.VN.color}]])},null,2),Object(c["g"])("div",ad,[0==s.textEdit?(Object(c["t"])(),Object(c["f"])("img",{key:0,src:Bt.a,onClick:t[20]||(t[20]=function(e){s.textEdit=!0})})):(Object(c["t"])(),Object(c["f"])("img",{key:1,src:hl.a,onClick:t[21]||(t[21]=function(e){return i.saveText()})}))]),Object(c["g"])("label",rd,[s.textEdit?(Object(c["t"])(),Object(c["f"])("div",ld,[Object(c["g"])("span",{id:"name",ref:"cngName",class:Object(c["p"])([{NShape_default:"default"==n.VN.nameShape},{NShape_linear:"linear"==n.VN.nameShape},{NColor_default:"default"==n.VN.color},{NColor_red:"red"==n.VN.color}])},Object(c["A"])(s.Now.name),3)])):(Object(c["t"])(),Object(c["f"])("div",{key:1,class:Object(c["p"])(["SceneSpeakerName",[{NShape_default:"default"==n.VN.nameShape},{NShape_linear:"linear"==n.VN.nameShape},{NColor_default:"default"==n.VN.color},{NColor_red:"red"==n.VN.color}]])},[Object(c["g"])("span",ud,Object(c["A"])(s.Now.name),1)],2))]),Object(c["g"])("label",dd,[s.textEdit?(Object(c["t"])(),Object(c["f"])("div",pd,[Object(c["g"])("span",{id:"text",ref:"cngText"},Object(c["A"])(s.Now.text),513)])):(Object(c["t"])(),Object(c["f"])("div",bd,[Object(c["g"])("span",gd,Object(c["A"])(s.Now.text),1)]))]),"end"!=n.status?(Object(c["t"])(),Object(c["f"])("div",{key:0,class:"NextScriptButton",onClick:t[22]||(t[22]=function(){return i.nextScene&&i.nextScene.apply(i,arguments)})},fd)):(Object(c["t"])(),Object(c["f"])("div",Od,hd))])])}n("4de4");var Sd=n("1e5c"),kd=n("4a9d"),_d=new kd.S3({region:"ap-northeast-2",accessKeyId:"AKIARKU2Y4IXVCR266PO",secretAccessKey:"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"}),Cd={props:{index:Number,plot:String,VN:Object,status:String,ep:Number},name:"VDevBoard",created:function(){this.pjCode=this.$route.params.pjCode,this.getPjInfo(this.pjCode)},data:function(){return{pjType:"",pjCode:"",title:"",retouchDate:"",stat:"",textEdit:!1,selectEdit:!1,Now:{},s1:{},s2:{},s3:{},resCtrl:!1,bgmState:!1,currentBgm:"",currentEffect:"",bgmId:"",effectId:"",currentImg:"",currentBg:"",bgmController:null,effectController:null,fontSettings:"",textBoxSettings:"SB_Shape_round .SB_Color_black",speecherBoxSettings:"",ColorSettings:"",isUpload:!1,isDownload:!1,percent:0}},methods:{getPjInfo:function(){var e=this;p.post("/engine/pj/getPjInfo",{pjCode:this.pjCode}).then((function(t){"err"==t.data?e.$store.commit("gModalOn","프로젝트 정보를 불러오는데 실패했습니다.","normal"):(e.title=t.data.PROJ_TITLE,e.retouchDate=t.data.PROJ_RETOUCHDATE,e.stat=t.data.PROJ_STATUS,e.pjType=t.data.PROJ_TYPE,e.loadData())})).catch((function(e){console.error("GetPjInfo : Error\n"+e)}))},uploadVN:function(){var e=this;return Object(xt["a"])(regeneratorRuntime.mark((function t(){var n,c,o,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.isUpload=!0,n=JSON.stringify(e.VN),c="ep".concat(e.ep,".json"),o={type:"text/plain"},s=new File([n],c,o),i={Bucket:"vsnovel",Key:"Project/PJ".concat(e.pjCode,"/dev/")+s.name,Body:s},_d.upload(i).on("httpUploadProgress",(function(t){return e.percent=parseInt(100*t.loaded/t.total)+"%","100%"==e.percent&&setTimeout((function(){return e.percent=0}),3e3),parseInt(100*t.loaded/t.total)+"%"})).send((function(e,t){return e?(console.log("파일 업로드 실패"),console.error(e),"err"):(console.log("파일 업로드 성공",t),"ok")}));case 7:case"end":return t.stop()}}),t)})))()},getVN:function(){var e=this;return Object(xt["a"])(regeneratorRuntime.mark((function t(){var n,c,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Dc.a.getVN("Project/PJ".concat(e.pjCode,"/dev/ep").concat(e.ep,".json"));case 2:n=t.sent,"err"!=n&&(c=new TextEncoder("utf-8").encode(n),o=(new TextDecoder).decode(c),e.$emit("changeVN",JSON.parse(o)),e.isDownload=!0);case 4:case"end":return t.stop()}}),t)})))()},saveText:function(){var e=this.VN;e.plotList[this.plot].pages[this.index].name=this.$refs.cngName.innerHTML,e.plotList[this.plot].pages[this.index].text=this.$refs.cngText.innerHTML,console.log(e.plotList[this.plot].pages[this.index].text),this.$emit("changeVN",e),this.textEdit=!1,this.loadData()},saveSelect:function(){var e=this.VN;console.log(this.$refs.cngs1.innerHTML),e.plotList[this.plot].pages[this.index].select[0].text=this.$refs.cngs1.innerHTML,e.plotList[this.plot].pages[this.index].select[1].text=this.$refs.cngs2.innerHTML,e.plotList[this.plot].pages[this.index].select[2].text=this.$refs.cngs3.innerHTML,this.$emit("changeVN",e),this.selectEdit=!1},loadData:function(){var e=Object(xt["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(void 0==this.VN.plotList[this.plot].pages[this.index]){e.next=14;break}if(this.Now=this.VN.plotList[this.plot].pages[this.index],console.log(this.Now),""==this.Now.bgm){e.next=9;break}return e.next=6,Dc.a.getUrl(this.Now.bgm);case 6:this.currentBgm=e.sent,e.next=10;break;case 9:"none"==this.Now.bgm&&this.bgmController.stop();case 10:if(""==this.Now.effect){e.next=14;break}return e.next=13,Dc.a.getUrl(this.Now.effect);case 13:this.currentEffect=e.sent;case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),nextScene:function(){"n"==this.VN.plotList[this.plot].pages[this.index].type?this.move():"e"==this.VN.plotList[this.plot].pages[this.index].type?this.$emit("changeStatus","end"):(console.log(this.VN.plotList[this.plot].pages[this.index]),this.s1=this.VN.plotList[this.plot].pages[this.index].select[0],this.s2=this.VN.plotList[this.plot].pages[this.index].select[1],this.s3=this.VN.plotList[this.plot].pages[this.index].select[2],this.$emit("changeStatus","select"))},move:function(){this.VN.plotList[this.plot].pages.length==this.index+1?this.$emit("move",{plot:this.VN.plotList[this.plot].nextPlot,index:0}):this.$emit("move",{plot:this.plot,index:this.index+1})},select:function(e,t){this.selectEdit||(this.$emit("changeStatus","play"),this.$emit("move",{plot:e,index:t}))},noImage:function(e){e.target.src="@/assets/imgs/e_no_image.png"},bgmOn:function(){console.log("BGM : "+this.currentBgm),this.bgmState=!0,this.bgmController=new Sd["Howl"]({src:[this.currentBgm],volume:1,loop:!0,preload:!0,onend:function(){console.log("BGM END")}}),this.bgmController.play()},bgmOff:function(){this.bgmState=!1,this.bgmController.stop()},effectOn:function(){console.log("effect : "+this.currentEffect),this.bgmState=!0,this.effectController=new Sd["Howl"]({src:[this.currentEffect],volume:1,loop:!1,preload:!0,onend:function(){console.log("EFFECT END")}}),this.effectController.play()},effectOff:function(){this.bgmState=!1,this.effectController.stop()},setResource:function(e,t){var n=this.VN;n.plotList[this.plot].pages[this.index][t]=e,this.$emit("changeVN",n)}},watch:{$route:function(){this.getPjInfo(this.pjCode),null!=this.bgmController&&this.bgmController.stop(),null!=this.effectController&&this.effectController.stop()},percent:function(e){var t=this;"100%"==e&&setTimeout((function(){return t.isUpload=!1}),3e3)},isDownload:function(e){var t=this;1==e&&setTimeout((function(){return t.isDownload=!1}),3e3)},index:function(){this.loadData()},plot:function(){this.loadData()},VN:{deep:!0,handler:function(){this.loadData()}},Now:{deep:!0,handler:function(){var e=this;return Object(xt["a"])(regeneratorRuntime.mark((function t(){var n,c,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=[{bg:e.Now.bg},{img:e.Now.img},{bgm:e.Now.bgm},{effect:e.Now.effect}],c=n.filter((function(e){return""!=e.bg&&""!=e.img&&""!=e.bgm&&""!=e.effect})),0!=c.length){t.next=9;break}e.currentBg="",e.currentImg="",e.currentBgm="",e.currentEffect="",t.next=54;break;case 9:o=0;case 10:if(!(o<c.length)){t.next=54;break}s=Object.keys(c[o]),console.log(s),t.t0=s[0],t.next="bg"===t.t0?16:"bgm"===t.t0?20:"img"===t.t0?34:"effect"===t.t0?38:51;break;case 16:return t.next=18,Dc.a.getUrl(e.Now.bg);case 18:return e.currentBg=t.sent,t.abrupt("break",51);case 20:if(1!=e.bgmState){t.next=29;break}return console.log(e.Now.bgm),e.bgmOff(),t.next=25,Dc.a.getUrl(e.Now.bgm);case 25:e.currentBgm=t.sent,e.bgmOn(),t.next=33;break;case 29:return console.log(e.Now.bgm),t.next=32,Dc.a.getUrl(e.Now.bgm);case 32:e.currentBgm=t.sent;case 33:return t.abrupt("break",51);case 34:return t.next=36,Dc.a.getUrl(e.Now.img);case 36:return e.currentImg=t.sent,t.abrupt("break",51);case 38:if(1!=e.bgmState){t.next=46;break}return e.effectOff(),t.next=42,Dc.a.getUrl(e.Now.effect);case 42:e.currentEffect=t.sent,e.effectOn(),t.next=50;break;case 46:return console.log(e.Now.effect),t.next=49,Dc.a.getUrl(e.Now.effect);case 49:e.currentEffect=t.sent;case 50:return t.abrupt("break",51);case 51:o++,t.next=10;break;case 54:case"end":return t.stop()}}),t)})))()}}}};n("eeef");const xd=S()(Cd,[["render",vd]]);var yd=xd,Md=n("9994"),Nd=n.n(Md),Vd={key:0,class:"FullView"},Pd=Object(c["g"])("div",{class:"modal_opacity"},null,-1),wd={class:"TMmodal_frame"},Ed={class:"TMmodal_inner"},Rd=Object(c["g"])("p",{class:"TMmodal_title"},"테마설정",-1),Bd=Object(c["g"])("div",{class:"TMmodal_Preview"},[Object(c["g"])("div",{class:"Section_title"},"프리뷰")],-1),Td={class:"TMmodal_FontStyle_Section"},Ld=Object(c["g"])("div",{class:"Section_title"},"폰트 설정",-1),Id={class:"Section_itemList"},$d=Object(c["g"])("img",{src:Nd.a},null,-1),Ad=Object(c["g"])("p",null,"기본값",-1),Dd=[$d,Ad],Fd=Object(c["g"])("img",{src:Nd.a},null,-1),Ud=Object(c["g"])("p",null,"궁서",-1),Kd=[Fd,Ud],Jd={class:"TMmodal_TextBox_Section"},zd=Object(c["g"])("div",{class:"Section_title"},"대사창 모양",-1),Hd={class:"Section_itemList"},Gd=Object(c["g"])("img",{src:Nd.a},null,-1),Yd=Object(c["g"])("p",null,"기본값",-1),Wd=[Gd,Yd],Xd=Object(c["g"])("img",{src:Nd.a},null,-1),qd=Object(c["g"])("p",null,"선형",-1),Qd=[Xd,qd],Zd={class:"TMmodal_Speecher_Section"},ep=Object(c["g"])("div",{class:"Section_title"},"캐릭터명 모양",-1),tp={class:"Section_itemList"},np=Object(c["g"])("img",{src:Nd.a},null,-1),cp=Object(c["g"])("p",null,"기본값",-1),op=[np,cp],sp=Object(c["g"])("img",{src:Nd.a},null,-1),ip=Object(c["g"])("p",null,"선형",-1),ap=[sp,ip],rp={class:"TMmodal_ETC_Section"},lp=Object(c["g"])("div",{class:"Section_title"},"기타",-1),up={class:"Section_ColorSet"},dp=Object(c["i"])("컬러셋 "),pp=Object(c["g"])("option",{value:"default"},"기본",-1),bp=Object(c["g"])("option",{value:"red"},"레드",-1),gp=[pp,bp],jp={class:"TMmodal_functions"};function fp(e,t,n,o,s,i){return s.TMModalState?(Object(c["t"])(),Object(c["f"])("div",Vd,[Pd,Object(c["g"])("div",wd,[Object(c["g"])("div",Ed,[Rd,Bd,Object(c["g"])("div",Td,[Ld,Object(c["g"])("div",Id,[Object(c["g"])("div",{class:Object(c["p"])(["Section_item",{Section_item_active:"default"==n.VN.font}]),onClick:t[0]||(t[0]=function(e){return i.changeVN("font","default")})},Dd,2),Object(c["g"])("div",{class:Object(c["p"])(["Section_item",{Section_item_active:"cursive"==n.VN.font}]),onClick:t[1]||(t[1]=function(e){return i.changeVN("font","cursive")})},Kd,2)])]),Object(c["g"])("div",Jd,[zd,Object(c["g"])("div",Hd,[Object(c["g"])("div",{class:Object(c["p"])(["Section_item",{Section_item_active:"default"==n.VN.shape}]),onClick:t[2]||(t[2]=function(e){return i.changeVN("shape","default")})},Wd,2),Object(c["g"])("div",{class:Object(c["p"])(["Section_item",{Section_item_active:"linear"==n.VN.shape}]),onClick:t[3]||(t[3]=function(e){return i.changeVN("shape","linear")})},Qd,2)])]),Object(c["g"])("div",Zd,[ep,Object(c["g"])("div",tp,[Object(c["g"])("div",{class:Object(c["p"])(["Section_item",{Section_item_active:"default"==n.VN.nameShape}]),onClick:t[4]||(t[4]=function(e){return i.changeVN("nameShape","default")})},op,2),Object(c["g"])("div",{class:Object(c["p"])(["Section_item",{Section_item_active:"linear"==n.VN.nameShape}]),onClick:t[5]||(t[5]=function(e){return i.changeVN("nameShape","linear")})},ap,2)])]),Object(c["g"])("div",rp,[lp,Object(c["g"])("div",up,[dp,Object(c["H"])(Object(c["g"])("select",{"onUpdate:modelValue":t[6]||(t[6]=function(e){return s.bColor=e}),onChange:t[7]||(t[7]=function(e){return i.changeVN("color",s.bColor)})},gp,544),[[c["D"],s.bColor]])])]),Object(c["g"])("div",jp,[Object(c["g"])("button",{class:"TMmodal_cancelInfo",onClick:t[8]||(t[8]=function(e){return i.modalClose()})},"확인")])])])])):Object(c["e"])("",!0)}var Op={name:"themeModal",data:function(){return{TMModalState:!1,bColor:this.VN.color}},props:{VN:Object},methods:{modalClose:function(){this.TMModalState=!1,this.$store.commit("sideButtonVisible")},show:function(){console.log("호출함"),this.$store.commit("sideButtonVisible"),this.TMModalState=!0},changeVN:function(e,t){var n=this.VN;n[e]=t,this.$emit("changeVn",n)}}};n("79ca");const mp=S()(Op,[["render",fp]]);var hp=mp,vp=Object(fl["o"])({name:"V_EngineInner",props:{resource:Object,ep:Number},components:{EngineCanvas:yd,Draggable:Ol["a"],ThemeModal:hp,InputModal:Cc},created:function(){var e=this;return Object(xt["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.pjCode=e.$route.params.pjCode,t.next=3,e.getVN(e.pjCode,e.ep);case 3:case"end":return t.stop()}}),t)})))()},data:function(){return{pjCode:"",index:0,plot:0,VN:{},startPlot:"",status:"play"}},watch:{ep:{handler:function(){this.index=0,this.plot=0,this.getVN(this.pjCode,this.ep)}},resource:{deep:!0,handler:function(e){if(void 0!=e&&null!=e){var t=e.key;this.VN.plotList[this.plot].pages[this.index][e.type]=t}}},VN:{deep:!0,handler:function(e){this.VN=e,console.log(e)}}},methods:{changeVN:function(e){this.VN=e},getVN:function(e,t){var n=this;return Object(xt["a"])(regeneratorRuntime.mark((function c(){var o,s,i;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return console.log(t),c.next=3,Dc.a.getVN("Project/PJ".concat(e,"/dev/ep").concat(t,".json"));case 3:if(o=c.sent,s=new TextEncoder("utf-8").encode(o),i=(new TextDecoder).decode(s),0!==Object.keys(i).length){c.next=10;break}console.log("GetVN : Null JSON"),c.next=15;break;case 10:return c.next=12,JSON.parse(i);case 12:n.VN=c.sent,n.plot=n.index=0,console.log(n.VN);case 15:case"end":return c.stop()}}),c)})))()},deletePj:function(){var e=this;p.post("/engine/pj/deletePj",{pjCode:this.pjCode}).then((function(t){"ok"==t.data?e.$router.push("/"):console.log("DeletePj : Not Good")})).catch((function(e){console.error("DeletePj : Error Content\n"+e)}))},move:function(e){this.plot=e.plot,this.index=e.index,this.status="play"},addPage:function(e,t){var n={n:"일반 페이지",e:"종료 페이지",s:"선택 페이지"};console.log("addpage"+e),this.VN.plotList[e].pages.push({pageName:n[t],type:t,bg:"",bgm:"",effect:"",name:"이름",text:"대화 내용",img:"",select:[{use:!0,text:"",plot:0,index:0},{use:!0,text:"",plot:0,index:0},{use:!0,text:"",plot:0,index:0}]})},changePlotName:function(e,t){this.$refs.inputModal.show({msg:"".concat(t,"을 변경할 텍스트를 입력해주세요."),size:"normal",type:"change",status:"plot",plot:e,index:null})},changePageName:function(e,t){this.$refs.inputModal.show({msg:"페이지 제목 변경",size:"normal",type:"change",status:"page",plot:e,index:t})},selectOptionPlot:function(e,t,n,c){console.log(e.target.value),console.log(t+","+n+" : "+c),this.VN.plotList[t].pages[n].select[c].plot=e.target.value,this.VN.plotList[t].pages[n].select[c].index=0},selectOptionIndex:function(e,t,n,c){console.log(e.target.value),this.VN.plotList[t].pages[n].select[c].index=parseInt(e.target.value)},returnIndex:function(e,t,n,c){return console.log(e.pages.length),console.log(t),console.log(n),console.log(c),e.pages.length},changeStatus:function(e){this.status=e},changeStart:function(e){console.log(e)},changeNext:function(e,t){this.VN.plotList[t].nextPlot=e.target.value},dragCngLog:function(e){console.log(e)},addPlotModal:function(){this.$refs.inputModal.show({msg:"새로 생성할 플롯이름을 입력해주세요.",size:"normal",type:"change",status:"add",plot:null,index:null})},deletePlot:function(e){console.log(this.VN.plotList),this.VN.plotList.splice(e,1),console.log(this.VN.plotList)},deletePage:function(e,t){console.log(this.VN.plotList[e].pages),this.VN.plotList[e].pages.splice(t,1),console.log(this.VN.plotList[e].pages)},tmModalOn:function(){this.$refs.themeModal.show()}}});n("57a0");const Sp=S()(vp,[["render",jl]]);var kp=Sp,_p={name:"devPage",created:function(){this.$store.commit("cngSideMenu","N"),this.pjCode=this.$route.params.pjCode,this.getPjInfo(this.pjCode)},props:{side:Boolean,main:Boolean,resource:Object,ep:Number},watch:{$route:function(){this.getPjInfo(this.pjCode)},side:function(){this.side?this.condition="RouterViewRight":this.condition="RouterViewLeft"},resource:function(){console.log(this.resource)}},data:function(){return{pjType:"",pjCode:"",condition:"RouterViewLeft"}},methods:{userTutorialCheck:function(){var e=this;p.get("/engine/user/tutorialCheck").then((function(t){"err"==t.data?console.log("유저 튜토리얼 확인 유무 불러오기 실페"):"N"==t.data.USER_EHELP?e.$store.commit("tutorialOn","dev"):e.$store.commit("tutorialOff")}))},getPjInfo:function(){var e=this;p.post("/engine/pj/getPjInfo",{pjCode:this.pjCode}).then((function(t){"err"==t.data?e.$store.commit("gModalOn","프로젝트 정보를 불러오는데 실패했습니다.","normal"):(e.title=t.data.PROJ_TITLE,e.retouchDate=t.data.PROJ_RETOUCHDATE,e.status=t.data.PROJ_STATUS,e.pjType=t.data.PROJ_TYPE)})).catch((function(e){console.error(e)}))},save:function(){var e=this;p.patch("/engine/pj/devSave",{pjCode:this.pjCode}).then((function(t){"ok"==t.data.msg?(e.$store.commit("gModalOn",{msg:"저장되었습니다.",size:"small"}),e.retouchDate=t.data.date):e.$store.commit("gModalOn",{msg:"ERR : 프로젝트 저장 실패",size:"normal"})}))}},components:{EngineInner:kp}};n("5e0c");const Cp=S()(_p,[["render",pr]]);var xp=Cp,yp=[{path:"/",component:da},{path:"/signin",component:La},{path:"/createNewPj",component:cr,props:!0},{path:"/devPage/:pjCode",component:xp,props:!0}],Mp=Object(Ni["a"])({history:Object(Ni["b"])(),routes:yp});Mp.beforeEach((function(e,t){var n=["/devPage"],c=n.find((function(t){return e.path.startsWith(t)}));if(void 0==c)return!0;i.a.get("/engine/auth/loginCheck").then((function(e){if(""!=e.data)return console.log("로그인 확인됨"),console.log(e.data),!0;console.log("해당 페이지 접근권한 없음"),Mp.push("/signin")}))}));var Np=Mp,Vp=n("953d"),Pp=n.n(Vp),wp=Object(c["c"])(Mi);wp.use(Np).use(l).use(Pp.a).mount("#app")},"57a0":function(e,t,n){"use strict";n("acb2")},"5d75":function(e,t,n){e.exports=n.p+"img/home.1e591cc4.png"},"5e0c":function(e,t,n){"use strict";n("7fe8")},"5e6d":function(e,t,n){},"60a2":function(e,t,n){"use strict";n("0613")},"61b9":function(e,t,n){"use strict";n("5e6d")},"61f4":function(e,t,n){"use strict";n("8eaa")},"6ea9":function(e,t,n){"use strict";n("9580")},"72f9":function(e,t,n){e.exports=n.p+"img/checked.ce3d685d.png"},"73ef":function(e,t,n){"use strict";n("844b")},"78e5":function(e,t,n){e.exports=n.p+"img/close.f37effb7.png"},"79ca":function(e,t,n){"use strict";n("88b3")},"7a98":function(e,t,n){},"7ca7":function(e,t,n){e.exports=n.p+"img/folder.ce3daeb4.png"},"7dd6":function(e,t,n){},"7fe8":function(e,t,n){},8114:function(e,t,n){},"844b":function(e,t,n){},"88b3":function(e,t,n){},"8eaa":function(e,t,n){},9102:function(e,t,n){e.exports=n.p+"img/upcloud.4d4fe0da.png"},9580:function(e,t,n){},"980f":function(e,t,n){"use strict";n("8114")},9994:function(e,t,n){e.exports=n.p+"img/comment_two.211df528.png"},"9d09":function(e,t,n){"use strict";n("fe81")},"9f38":function(e,t,n){e.exports=n.p+"img/notification.ca88e736.png"},a2c6:function(e,t,n){e.exports=n.p+"img/speaker_white.d315084f.png"},a67d:function(e,t,n){"use strict";n("2290")},a7c2:function(e,t,n){"use strict";n("7a98")},a86b:function(e,t,n){},acb2:function(e,t,n){},afa5:function(e,t,n){"use strict";n("2320")},b062:function(e,t,n){e.exports=n.p+"img/gear.60bf9b8d.png"},b0ac:function(e,t,n){e.exports=n.p+"img/magnifier.7c2646f8.png"},b765:function(e,t,n){"use strict";n("a86b")},b958:function(e,t,n){"use strict";n("3d92")},ba22:function(e,t,n){"use strict";n("c53d")},c151:function(e,t,n){e.exports=n.p+"img/file_ok.df10212b.png"},c32b:function(e,t,n){e.exports=n.p+"img/music.6b332756.png"},c53d:function(e,t,n){},db32:function(e,t,n){e.exports=n.p+"img/book.fed318ca.png"},de9b:function(e,t,n){},e236:function(e,t,n){e.exports=n.p+"img/vsn_engine.7a106c65.png"},ed0a:function(e,t,n){},ed91:function(e,t,n){e.exports=n.p+"img/adver.6352f1b1.jpg"},ee8f:function(e,t,n){"use strict";n("38ed")},eeb9:function(e,t,n){"use strict";n("0e5b")},eeef:function(e,t,n){"use strict";n("1e38")},f028:function(e,t,n){e.exports=n.p+"img/redo.cd465c69.png"},fe81:function(e,t,n){},ffaf:function(e,t,n){"use strict";n("54bb")}});
//# sourceMappingURL=app.82d36f5f.js.map